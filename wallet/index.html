<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkyTab Venue Wallet | Product Demo</title>
    <link rel="icon" type="image/png" href="../site/s4-center-icon.png">
    <link rel="apple-touch-icon" href="../site/s4-center-icon.png">
    <meta name="description" content="SkyTab Venue Wallet - Unify payments, perks, and ordering for every guest. Apple & Google Wallet passes, mobile ordering, and loyalty rewards.">

    <!-- Open Graph -->
    <meta property="og:title" content="SkyTab Venue Wallet | Product Demo">
    <meta property="og:description" content="Unify payments, perks, and ordering for every guest with Apple & Google Wallet passes.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="../site/wallet-badge.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SkyTab Venue Wallet | Product Demo">
    <meta name="twitter:description" content="Mobile-first wallet platform for venues. Payments, passes, and loyalty.">

    <!-- Resource Hints -->
    <link rel="preconnect" href="https://unpkg.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'shift4': {
                            'night-black': '#000000',
                            'sky-blue': '#136EF6',
                            'midnight-blue': '#102749',
                            'cool-grey': '#E7E7E7',
                            'stellar-white': '#FFFFFF',
                        }
                    },
                    fontFamily: {
                        'sans': ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>

    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Shared CSS -->
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body class="bg-shift4-midnight-blue text-white">
    <a href="#wallet-overview" class="skip-to-content">Skip to main content</a>
    <div id="root"></div>

    <!-- Shared Data -->
    <script src="../js/data.js"></script>

    <!-- Shared Components (JSX - needs Babel) -->
    <script type="text/babel" src="../js/shared-components.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- WALLET PAGE COMPONENT ---
        const WalletPage = () => {
            // Use shared navigation items from data.js
            const navItems = WALLET_NAV_ITEMS;

            // Active section tracking for navigation
            const [activeSection, setActiveSection] = useState('wallet-overview');

            // Navbar visibility for presentation mode
            const [navHidden, setNavHidden] = useState(false);

            // Hamburger menu state
            const [isMenuOpen, setIsMenuOpen] = useState(false);

            // Track active section on scroll
            useEffect(() => {
                const container = document.querySelector('.snap-y');
                if (!container) return;

                const handleScroll = () => {
                    const viewportHeight = container.clientHeight;

                    // Find which section is most visible
                    for (let i = 0; i < navItems.length; i++) {
                        const section = document.getElementById(navItems[i].id);
                        if (section) {
                            const rect = section.getBoundingClientRect();
                            const sectionTop = rect.top;
                            // Section is active if its top is within the viewport
                            if (sectionTop >= -viewportHeight / 2 && sectionTop < viewportHeight / 2) {
                                setActiveSection(navItems[i].id);
                                break;
                            }
                        }
                    }
                };

                container.addEventListener('scroll', handleScroll, { passive: true });
                handleScroll(); // Initial check

                return () => container.removeEventListener('scroll', handleScroll);
            }, []);

            // Close menu when clicking outside
            useEffect(() => {
                const handleClickOutside = (e) => {
                    if (!e.target.closest('.menu-container')) {
                        setIsMenuOpen(false);
                    }
                };
                document.addEventListener('click', handleClickOutside);
                return () => document.removeEventListener('click', handleClickOutside);
            }, []);

            // Scroll to section handler
            const scrollToSection = (sectionId) => {
                const element = document.getElementById(sectionId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            };

            // Passes carousel state
            const [passSlide, setPassSlide] = useState(0);

            // Unified Platform tab state
            const [activeTab, setActiveTab] = useState('loyalty-app');

            // Expanded modal state for browser pane
            const [expandedTab, setExpandedTab] = useState(null);

            // Video modal state
            const [showWalletVideo, setShowWalletVideo] = useState(false);

            // Capability modal state
            const [activeCapability, setActiveCapability] = useState(null);
            const [capabilityClosing, setCapabilityClosing] = useState(false);
            const [isNavigating, setIsNavigating] = useState(false);
            const [navAnimation, setNavAnimation] = useState(''); // 'out', 'in', or ''
            const [contentKey, setContentKey] = useState(0); // Increments to replay content animations
            const [caseStudiesKey, setCaseStudiesKey] = useState(0); // Increments to replay Case Studies animations
            const [guestJourneysKey, setGuestJourneysKey] = useState(0); // Increments to replay Guest Journeys animations

            // Case Studies modal state
            const [caseStudiesOpen, setCaseStudiesOpen] = useState(false);
            const [activeCaseStudy, setActiveCaseStudy] = useState(null);

            // Guest Journeys modal state
            const [guestJourneysOpen, setGuestJourneysOpen] = useState(false);

            // Capabilities data - categorized as 'main' (top row) or 'feature' (bottom rows)
            const CAPABILITIES_DATA = [
                // Main Functionality (3 large tiles)
                {
                    id: 'identity-wallet',
                    category: 'main',
                    icon: Icons.Wallet,
                    title: 'Identity + Wallet Pass',
                    oneLiner: 'Authenticate with ticketing and issue secure wallet passes for identity + benefits.',
                    gradientFrom: 'from-blue-500',
                    gradientTo: 'to-cyan-500',
                    glowColor: 'blue',
                    details: [
                        'Ticketing authentication or SMS sign-in',
                        'Secure, tokenized wallet identity',
                        'Card-on-file for faster checkout',
                        'QR wallet scan for POS + kiosks'
                    ]
                },
                {
                    id: 'payments',
                    category: 'main',
                    icon: Icons.Zap,
                    title: 'Payments + Acceptance',
                    oneLiner: 'One payment experience across every channel, with benefits applied automatically.',
                    gradientFrom: 'from-emerald-500',
                    gradientTo: 'to-teal-500',
                    glowColor: 'emerald',
                    details: [
                        'Discounts + stored value applied automatically',
                        'POS, kiosk, and mobile ordering support',
                        'Real-time transaction processing + reporting',
                        'Supports retail and autonomous experiences'
                    ]
                },
                {
                    id: 'integrations',
                    category: 'main',
                    icon: Icons.Link,
                    title: 'Integrations + Platforms',
                    oneLiner: 'Built to work with SkyTab and leading venue platforms.',
                    gradientFrom: 'from-shift4-sky-blue',
                    gradientTo: 'to-indigo-500',
                    glowColor: 'shift4',
                    details: [
                        'SkyTab Venue: POS, kiosk, mobile ordering',
                        'SkyTab Restaurant POS',
                        'Ticketing login integrations (Ticketmaster, SeatGeek, AXS, Tickets.com)',
                        'Venue app ecosystem support (SDK/embedded)'
                    ]
                },
                // Features (smaller tiles)
                {
                    id: 'stored-value',
                    category: 'feature',
                    icon: Icons.CircleDollarSign,
                    title: 'Stored Value',
                    oneLiner: 'Flexible stored value that guests can use anywhere in-venue.',
                    gradientFrom: 'from-amber-500',
                    gradientTo: 'to-yellow-500',
                    glowColor: 'orange',
                    details: [
                        'Custom branded stored value (e.g. "Shift4 Bucks")',
                        'Gift card loads and transfers',
                        'Award via Admin Portal or Loyalty API (bulk and ad hoc)',
                        'Value from loaded tickets (ticket-based)',
                        'Send/transfer between guests (optional)',
                        'Configurable expiration + spend rules'
                    ]
                },
                {
                    id: 'redemption',
                    category: 'feature',
                    icon: Icons.ShoppingCart,
                    title: 'Redemption',
                    oneLiner: 'Accept benefits venue-wide with simple, consistent flows.',
                    gradientFrom: 'from-orange-500',
                    gradientTo: 'to-amber-500',
                    glowColor: 'orange',
                    details: [
                        'POS + kiosks: QR scan or manual entry',
                        'Benefits apply automatically: discounts and stored value',
                        'Retail + Autonomous supported via partners',
                        'Real-time confirmations and balance updates'
                    ],
                    hasAction: true,
                    actionLabel: 'View redemption methods',
                    onAction: () => setRedemptionMethodsOpen(true)
                },
                {
                    id: 'promotions',
                    category: 'feature',
                    icon: Icons.Gift,
                    title: 'Promotions',
                    oneLiner: 'Targeted offers based on guest identity and location.',
                    gradientFrom: 'from-rose-500',
                    gradientTo: 'to-pink-500',
                    glowColor: 'rose',
                    details: [
                        'Ticket-based benefits via ticket attributes',
                        'Tiered pricing and member benefits',
                        'Item/category targeting + check-level promos',
                        'Usage limits, stacking priority, and rule controls'
                    ]
                },
                {
                    id: 'loaded-tickets',
                    category: 'feature',
                    icon: Icons.Ticket,
                    title: 'Loaded Tickets',
                    oneLiner: 'Pre-load tickets with currency or discounts.',
                    gradientFrom: 'from-violet-500',
                    gradientTo: 'to-purple-500',
                    glowColor: 'violet',
                    details: [
                        'Two types: virtual currency or promotional discount',
                        'Travels with the ticket when transferred',
                        'Unused value expires at 3:00am the next day',
                        'Seamless integration with ticketing platforms'
                    ]
                },
                {
                    id: 'mobile-ordering',
                    category: 'feature',
                    icon: Icons.ShoppingBag,
                    title: 'Mobile Ordering',
                    oneLiner: 'Order ahead with wallet benefits applied.',
                    gradientFrom: 'from-lime-500',
                    gradientTo: 'to-green-500',
                    glowColor: 'emerald',
                    details: [
                        'Browse to pickup with real-time status updates',
                        'Digital receipts + order history',
                        'Benefits apply automatically at checkout',
                        'Location-aware menu and pickup options'
                    ]
                },
                // Special tiles that open modals
                {
                    id: 'case-studies',
                    category: 'feature',
                    icon: Icons.FileText,
                    title: 'Case Studies',
                    oneLiner: 'Proven wallet configurations for venues.',
                    gradientFrom: 'from-cyan-500',
                    gradientTo: 'to-blue-500',
                    glowColor: 'blue',
                    isModal: true,
                    modalType: 'case-studies'
                },
                {
                    id: 'guest-journeys',
                    category: 'feature',
                    icon: Icons.Activity,
                    title: 'Guest Journeys',
                    oneLiner: 'End-to-end guest experience flows.',
                    gradientFrom: 'from-indigo-500',
                    gradientTo: 'to-violet-500',
                    glowColor: 'violet',
                    isModal: true,
                    modalType: 'guest-journeys'
                }
            ];

            // Case Studies - venue implementations and business outcomes
            const CASE_STUDIES_DATA = [
                {
                    id: 'stadium-membership',
                    type: 'Sports & Entertainment',
                    glowColor: 'blue',
                    icon: Icons.Users,
                    title: 'Season Ticket Holder Perks',
                    venue: 'MLB Stadium',
                    challenge: 'Season ticket holders expected VIP treatment but discounts required manual verification, creating long lines and inconsistent experiences.',
                    solution: 'Integrated wallet with ticketing platform to auto-authenticate members and apply tier-based pricing instantly.',
                    results: [
                        '40% faster transaction times for members',
                        '28% increase in F&B spend per member',
                        '92% member satisfaction score',
                        'Eliminated manual discount verification'
                    ],
                    featuresUsed: ['Identity + Wallet Pass', 'Tiered Promotions', 'POS Integration'],
                    gradientFrom: 'from-blue-500',
                    gradientTo: 'to-cyan-500'
                },
                {
                    id: 'sponsor-activation',
                    type: 'Corporate Events',
                    glowColor: 'orange',
                    icon: Icons.Ticket,
                    title: 'Sponsor Suite Experience',
                    venue: 'NFL Stadium',
                    challenge: 'Corporate sponsors needed a way to preload F&B credits for suite guests without complex voucher systems.',
                    solution: 'Loaded ticket value that transfers automatically when tickets are forwarded to guests.',
                    results: [
                        '$150 avg loaded value per ticket',
                        '89% redemption rate',
                        'Zero voucher fraud incidents',
                        'Sponsors can reload remotely'
                    ],
                    featuresUsed: ['Loaded Tickets', 'Stored Value', 'Mobile Ordering'],
                    gradientFrom: 'from-orange-500',
                    gradientTo: 'to-amber-500'
                },
                {
                    id: 'arena-cashless',
                    type: 'Arena Operations',
                    glowColor: 'emerald',
                    icon: Icons.Sparkles,
                    title: 'Frictionless Grab & Go',
                    venue: 'Convention Center',
                    challenge: 'High-volume events created massive concession lines, with attendees missing sessions to wait for food.',
                    solution: 'Deployed autonomous retail stores where guests tap in with wallet, grab items, and walk out.',
                    results: [
                        '3-minute avg transaction time (vs 12 min)',
                        '35% higher throughput per square foot',
                        '15% increase in impulse purchases',
                        'Zero staffing during off-peak hours'
                    ],
                    featuresUsed: ['Identity + Wallet Pass', 'Autonomous Checkout', 'Real-time Receipts'],
                    gradientFrom: 'from-emerald-500',
                    gradientTo: 'to-teal-500'
                },
                {
                    id: 'fan-currency',
                    type: 'Loyalty Program',
                    glowColor: 'violet',
                    icon: Icons.CircleDollarSign,
                    title: 'Branded Fan Currency',
                    venue: 'MLS Stadium',
                    challenge: 'Wanted to create a loyalty program that felt unique to their brand, not a generic points system.',
                    solution: 'Launched "Goal Bucks" - a custom-branded stored value currency fans earn and spend venue-wide.',
                    results: [
                        '45,000 wallets activated in first season',
                        '$2.3M in Goal Bucks issued',
                        '94% redemption rate',
                        '22% lift in return visit frequency'
                    ],
                    featuresUsed: ['Stored Value', 'Custom Branding', 'Promotions Engine'],
                    gradientFrom: 'from-violet-500',
                    gradientTo: 'to-purple-500'
                }
            ];

            // Guest Journeys - step-by-step user flows
            const GUEST_JOURNEYS_DATA = [
                {
                    id: 'member-discount-flow',
                    title: 'Member Discount Flow',
                    description: 'How season ticket holders receive automatic discounts',
                    icon: Icons.Users,
                    journey: [
                        { step: 1, label: 'Authenticate', description: 'Sign in with ticketing credentials' },
                        { step: 2, label: 'View benefits', description: 'Wallet shows member tier and perks' },
                        { step: 3, label: 'Order or pay', description: 'Use QR code or mobile order' },
                        { step: 4, label: 'Auto-applied', description: 'Discounts deducted automatically' }
                    ],
                    surfaces: ['POS', 'Kiosk', 'Mobile Order'],
                    gradientFrom: 'from-blue-500',
                    gradientTo: 'to-cyan-500'
                },
                {
                    id: 'loaded-ticket-flow',
                    title: 'Loaded Ticket Value',
                    description: 'How preloaded value works for sponsors and groups',
                    icon: Icons.Ticket,
                    journey: [
                        { step: 1, label: 'Receive ticket', description: 'Ticket includes preloaded value' },
                        { step: 2, label: 'Open wallet', description: 'Balance appears automatically' },
                        { step: 3, label: 'Redeem anywhere', description: 'Use at any F&B location' },
                        { step: 4, label: 'Get receipt', description: 'Balance updates in real-time' }
                    ],
                    surfaces: ['POS', 'Kiosk', 'Mobile Order', 'Retail'],
                    gradientFrom: 'from-orange-500',
                    gradientTo: 'to-amber-500'
                },
                {
                    id: 'autonomous-checkout-flow',
                    title: 'Walk-Out Checkout',
                    description: 'Frictionless shopping in autonomous retail stores',
                    icon: Icons.Sparkles,
                    journey: [
                        { step: 1, label: 'Tap in', description: 'Scan wallet QR to enter store' },
                        { step: 2, label: 'Shop freely', description: 'Grab items off the shelf' },
                        { step: 3, label: 'Walk out', description: 'Exit triggers automatic checkout' },
                        { step: 4, label: 'Receipt sent', description: 'Confirmation with benefits applied' }
                    ],
                    surfaces: ['Autonomous Retail'],
                    gradientFrom: 'from-emerald-500',
                    gradientTo: 'to-teal-500'
                },
                {
                    id: 'mobile-order-flow',
                    title: 'Mobile Order Ahead',
                    description: 'Skip the line with in-app ordering',
                    icon: Icons.Smartphone,
                    journey: [
                        { step: 1, label: 'Browse menu', description: 'View items and prices in app' },
                        { step: 2, label: 'Add to cart', description: 'Benefits auto-apply to eligible items' },
                        { step: 3, label: 'Pay with wallet', description: 'Use stored value or card on file' },
                        { step: 4, label: 'Pick up', description: 'Show QR code at express window' }
                    ],
                    surfaces: ['Mobile Order', 'Express Pickup'],
                    gradientFrom: 'from-blue-600',
                    gradientTo: 'to-indigo-600'
                }
            ];

            // Helper to get glow classes for capability cards
            const getGlowClasses = (glowColor) => {
                const glowMap = {
                    blue: 'glow-blue border-glow-blue',
                    emerald: 'glow-emerald border-glow-emerald',
                    shift4: 'glow-shift4 border-glow-shift4',
                    orange: 'glow-orange border-glow-orange',
                    amber: 'glow-amber border-glow-amber',
                    rose: 'glow-rose border-glow-rose',
                    violet: 'glow-violet border-glow-violet',
                    lime: 'glow-lime border-glow-lime'
                };
                return glowMap[glowColor] || 'glow-blue border-glow-blue';
            };

            // Close capability modal with animation
            const closeCapabilityModal = () => {
                setCapabilityClosing(true);
                setTimeout(() => {
                    setActiveCapability(null);
                    setCapabilityClosing(false);
                }, 200);
            };

            // Handle keyboard navigation for capability modal
            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (!activeCapability) return;

                    if (e.key === 'Escape') {
                        closeCapabilityModal();
                    } else if (e.key === 'ArrowLeft') {
                        const currentIndex = CAPABILITIES_DATA.findIndex(c => c.id === activeCapability.id);
                        const prevIndex = (currentIndex - 1 + CAPABILITIES_DATA.length) % CAPABILITIES_DATA.length;
                        setActiveCapability(CAPABILITIES_DATA[prevIndex]);
                    } else if (e.key === 'ArrowRight') {
                        const currentIndex = CAPABILITIES_DATA.findIndex(c => c.id === activeCapability.id);
                        const nextIndex = (currentIndex + 1) % CAPABILITIES_DATA.length;
                        setActiveCapability(CAPABILITIES_DATA[nextIndex]);
                    }
                };
                document.addEventListener('keydown', handleKeyDown);
                return () => document.removeEventListener('keydown', handleKeyDown);
            }, [activeCapability]);

            // Amazon JWO drawer state
            const [jwoDrawerOpen, setJwoDrawerOpen] = useState(false);

            // Redemption methods modal state
            const [redemptionMethodsOpen, setRedemptionMethodsOpen] = useState(false);
            const [redemptionTab, setRedemptionTab] = useState('pos'); // 'pos' or 'mobile'
            const [activePosStep, setActivePosStep] = useState(1);
            const [activeMobileStep, setActiveMobileStep] = useState(1);
            const [activeWalletStep, setActiveWalletStep] = useState(1);
            const posVideoRef = React.useRef(null);
            const mobileVideoRef = React.useRef(null);
            const walletVideoRef = React.useRef(null);

            // Sync POS steps with video timeline
            React.useEffect(() => {
                const video = posVideoRef.current;
                if (!video || !redemptionMethodsOpen || redemptionTab !== 'pos') return;

                const handleTimeUpdate = () => {
                    const time = video.currentTime;
                    if (time >= 23) setActivePosStep(4);
                    else if (time >= 17) setActivePosStep(3);
                    else if (time >= 7) setActivePosStep(2);
                    else setActivePosStep(1);
                };

                video.addEventListener('timeupdate', handleTimeUpdate);
                return () => video.removeEventListener('timeupdate', handleTimeUpdate);
            }, [redemptionMethodsOpen, redemptionTab]);

            // Sync Mobile steps with video timeline
            React.useEffect(() => {
                const video = mobileVideoRef.current;
                if (!video || !redemptionMethodsOpen || redemptionTab !== 'mobile') return;

                const handleTimeUpdate = () => {
                    const time = video.currentTime;
                    if (time >= 55) setActiveMobileStep(5);
                    else if (time >= 22) setActiveMobileStep(4);
                    else if (time >= 10) setActiveMobileStep(3);
                    else if (time >= 6) setActiveMobileStep(2);
                    else setActiveMobileStep(1);
                };

                video.addEventListener('timeupdate', handleTimeUpdate);
                return () => video.removeEventListener('timeupdate', handleTimeUpdate);
            }, [redemptionMethodsOpen, redemptionTab]);

            // Sync Wallet steps with video timeline
            React.useEffect(() => {
                const video = walletVideoRef.current;
                if (!video || !showWalletVideo) return;

                const handleTimeUpdate = () => {
                    const time = video.currentTime;
                    if (time >= 31) setActiveWalletStep(5);
                    else if (time >= 19) setActiveWalletStep(4);
                    else if (time >= 12) setActiveWalletStep(3);
                    else if (time >= 6) setActiveWalletStep(2);
                    else setActiveWalletStep(1);
                };

                video.addEventListener('timeupdate', handleTimeUpdate);
                return () => video.removeEventListener('timeupdate', handleTimeUpdate);
            }, [showWalletVideo]);

            // Browser tabs configuration for each section
            const browserTabs = {
                'loyalty-app': {
                    isHierarchical: true,
                    categories: [
                        {
                            id: 'accounts',
                            label: 'Accounts',
                            tabs: [
                                { id: 'accounts', label: 'Accounts', image: '../site/loyalty-app-ui.png' },
                                { id: 'adjustments', label: 'Adjustments', image: '../site/loyalty-adjustments-ui.png' },
                                { id: 'history', label: 'History', image: '../site/loyalty-history-accounts-ui.png' },
                                { id: 'bulk-uploads', label: 'Bulk Uploads', image: '../site/loyalty-bulk-uploads-ui.png' }
                            ]
                        },
                        {
                            id: 'affiliations',
                            label: 'Affiliations',
                            tabs: [
                                { id: 'affiliations', label: 'Affiliations', image: '../site/loyalty-affiliations-ui.png' },
                                { id: 'add-affiliation', label: 'Add Affiliation', image: '../site/loyalty-affiliation-add-ui.png' }
                            ]
                        },
                        {
                            id: 'passes',
                            label: 'Passes',
                            tabs: [
                                { id: 'passes', label: 'Passes', image: '../site/loyalty-passes-ui.png' },
                                { id: 'pass-design', label: 'Pass Design', image: '../site/loyalty-pass-design-ui.png' },
                                { id: 'geofence', label: 'Geofence', image: '../site/loyalty-geofence-ui.png' },
                                { id: 'campaign', label: 'Campaign', image: '../site/loyalty-campaign-ui.png' }
                            ]
                        }
                    ]
                },
                'datanow': [
                    { id: 'vc-kpis', label: 'Virtual Currency KPIs', image: '../site/datanow-vc-kpis-ui.png' },
                    { id: 'transfers', label: 'Transfers', image: '../site/datanow-transfers-ui.png' },
                    { id: 'audit', label: 'Audit', image: '../site/datanow-audit-ui.png' },
                    { id: 'wallet-insights', label: 'Wallet Insights', image: '../site/datanow-wallet-insights-ui.png' },
                ]
            };

            // Active browser tab state for each section
            const [activeBrowserTab, setActiveBrowserTab] = useState({
                'loyalty-app': { accounts: 0, affiliations: 0, passes: 0 },
                'datanow': 0
            });

            // Active category state for hierarchical tabs (loyalty-app)
            const [activeLoyaltyCategory, setActiveLoyaltyCategory] = useState('accounts');

            // Helper to update browser tab for a section
            const setTabForSection = (section, tabIndex) => {
                if (section === 'loyalty-app') {
                    // For loyalty-app, update the tab within the active category
                    setActiveBrowserTab(prev => ({
                        ...prev,
                        'loyalty-app': { ...prev['loyalty-app'], [activeLoyaltyCategory]: tabIndex }
                    }));
                } else {
                    setActiveBrowserTab(prev => ({ ...prev, [section]: tabIndex }));
                }
            };

            // Helper to get current tab data for any section (handles hierarchical structure)
            const getCurrentTabData = (section) => {
                const tabs = browserTabs[section];

                if (tabs?.isHierarchical) {
                    const category = tabs.categories.find(c => c.id === activeLoyaltyCategory);
                    const tabIndex = activeBrowserTab[section]?.[activeLoyaltyCategory] || 0;
                    return category?.tabs[tabIndex] || category?.tabs[0];
                } else if (Array.isArray(tabs)) {
                    return tabs[activeBrowserTab[section]] || tabs[0];
                }
                return null;
            };

            // Helper to get tabs array for current section
            const getTabsArray = (section) => {
                const tabs = browserTabs[section];
                if (tabs?.isHierarchical) {
                    const category = tabs.categories.find(c => c.id === activeLoyaltyCategory);
                    return category?.tabs || [];
                }
                return Array.isArray(tabs) ? tabs : [];
            };

            // Escape key handler for closing modals
            useEffect(() => {
                const handleEscape = (e) => {
                    if (e.key === 'Escape') {
                        if (expandedTab) setExpandedTab(null);
                        if (showWalletVideo) setShowWalletVideo(false);
                        if (jwoDrawerOpen) setJwoDrawerOpen(false);
                    }
                };
                document.addEventListener('keydown', handleEscape);
                return () => document.removeEventListener('keydown', handleEscape);
            }, [expandedTab, showWalletVideo, jwoDrawerOpen]);

            // Logo error state for fallback
            const [logoError, setLogoError] = useState(false);

            return (
                <div className="snap-y snap-mandatory overflow-y-scroll h-screen bg-shift4-midnight-blue font-sans selection:bg-shift4-sky-blue selection:text-white relative">

                    {/* SECTION 1: Wallet Overview - "What is it?" */}
                    <section id="wallet-overview" aria-labelledby="wallet-overview-heading" className="snap-start snap-always h-screen flex items-center justify-center relative overflow-hidden isolate">
                        {/* Wallet Page Navbar - positioned absolutely within first section */}
                        <nav className={`absolute top-0 w-full z-50 backdrop-blur-md bg-shift4-night-black/80 border-b border-white/10 transition-transform duration-300 ${navHidden ? '-translate-y-full' : 'translate-y-0'}`}>
                            <div className="container mx-auto px-6 h-20 flex items-center justify-between">
                                <a href="../" className="flex items-center cursor-pointer">
                                    {!logoError ? (
                                        <img
                                            src="../site/Shift4 Logo - RBG.png"
                                            alt="Shift4 SkyTab Venue Logo"
                                            className="h-8 w-auto"
                                            onError={() => setLogoError(true)}
                                        />
                                    ) : (
                                        <div className="text-2xl font-bold tracking-tighter text-white">
                                            SHIFT4 <span className="font-light">SkyTab Venue</span>
                                        </div>
                                    )}
                                    <span className="text-xs text-shift4-cool-grey/70 border-l border-shift4-cool-grey/30 pl-3 ml-3 uppercase tracking-widest hidden sm:inline-block font-light">Wallet</span>
                                </a>

                                <nav className="hidden md:flex space-x-4" role="navigation" aria-label="Wallet sections">
                                    {navItems.map(({ id, label }) => (
                                        <button
                                            key={id}
                                            onClick={() => scrollToSection(id)}
                                            className={`text-sm font-medium transition-colors relative ${
                                                activeSection === id
                                                    ? 'text-shift4-sky-blue'
                                                    : 'text-slate-300 hover:text-white'
                                            }`}
                                            aria-label={`Navigate to ${label} section`}
                                            aria-current={activeSection === id ? 'page' : undefined}
                                        >
                                            {label}
                                            {activeSection === id && (
                                                <span className="absolute -bottom-1 left-0 right-0 h-0.5 bg-shift4-sky-blue rounded-full"></span>
                                            )}
                                        </button>
                                    ))}
                                </nav>

                                <div className="flex items-center space-x-4">
                                    {/* Hamburger Menu */}
                                    <div className="menu-container relative">
                                        <button
                                            onClick={() => setIsMenuOpen(!isMenuOpen)}
                                            className="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-all"
                                            aria-label="Open menu"
                                            aria-expanded={isMenuOpen}
                                        >
                                            <Icons.Menu className="w-5 h-5" />
                                        </button>

                                        {isMenuOpen && (
                                            <div className="absolute right-0 mt-2 w-40 bg-slate-800 rounded-lg shadow-xl py-2 z-50 border border-white/10">
                                                <a
                                                    href="../"
                                                    className="flex items-center gap-2 w-full text-left px-4 py-2 text-slate-300 hover:bg-slate-700 hover:text-white transition-colors font-medium text-sm"
                                                >
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                        <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                                                    </svg>
                                                    Home
                                                </a>
                                                <a
                                                    href="../demos/"
                                                    className="flex items-center gap-2 w-full text-left px-4 py-2 text-slate-300 hover:bg-slate-700 hover:text-white transition-colors font-medium text-sm"
                                                >
                                                    <Icons.Monitor className="w-4 h-4" />
                                                    Demos
                                                </a>
                                            </div>
                                        )}
                                    </div>
                                    {/* Hide navbar button */}
                                    <button
                                        onClick={() => setNavHidden(true)}
                                        className="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-all"
                                        aria-label="Hide navigation bar"
                                        title="Hide navbar"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <path d="m18 15-6-6-6 6"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </nav>

                        {/* Show navbar button - appears when navbar is hidden */}
                        <button
                            onClick={() => setNavHidden(false)}
                            className={`absolute top-4 right-6 z-50 p-2 rounded-lg bg-shift4-night-black/80 backdrop-blur-md border border-white/10 text-slate-400 hover:text-white hover:bg-white/10 transition-all duration-300 ${navHidden ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-4 pointer-events-none'}`}
                            aria-label="Show navigation bar"
                            title="Show navbar"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                <path d="m6 9 6 6 6-6"/>
                            </svg>
                        </button>

                        {/* Background Effects */}
                        <div className="absolute inset-0 overflow-hidden pointer-events-none">
                            {/* Primary spotlight */}
                            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-shift4-sky-blue/15 rounded-full blur-3xl animate-pulse" style={{animationDuration: '4s'}}></div>
                            {/* Secondary accent glow */}
                            <div className="absolute top-1/4 right-1/4 w-[300px] h-[300px] bg-cyan-500/10 rounded-full blur-2xl animate-pulse" style={{animationDuration: '6s', animationDelay: '1s'}}></div>
                            <div className="absolute bottom-1/4 left-1/4 w-[250px] h-[250px] bg-violet-500/10 rounded-full blur-2xl animate-pulse" style={{animationDuration: '5s', animationDelay: '2s'}}></div>
                            {/* Grid overlay */}
                            <div className="absolute inset-0 opacity-[0.03]" style={{backgroundImage: 'linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)', backgroundSize: '50px 50px'}}></div>
                        </div>

                        {/* Main Content - Split Layout */}
                        <div className="container mx-auto px-6 relative z-10">
                            <div className="flex flex-col lg:flex-row items-center gap-8 lg:gap-16">

                                {/* Left Side - Icon Constellation */}
                                <div className="w-full lg:w-1/2 flex justify-center">
                                    <div className="relative w-[500px] h-[500px]">
                                        {/* Connection Lines SVG */}
                                        <svg className="absolute inset-0 w-full h-full" viewBox="0 0 500 500">
                                            <defs>
                                                <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                                    <stop offset="0%" stopColor="#136EF6" stopOpacity="0.3"/>
                                                    <stop offset="50%" stopColor="#06B6D4" stopOpacity="0.5"/>
                                                    <stop offset="100%" stopColor="#136EF6" stopOpacity="0.3"/>
                                                </linearGradient>
                                            </defs>
                                            {/* Lines from center to each orbit position */}
                                            <line x1="250" y1="250" x2="250" y2="60" stroke="rgba(6, 182, 212, 0.5)" strokeWidth="1.5" className="animate-pulse" style={{animationDuration: '3s'}}/>
                                            <line x1="250" y1="250" x2="419" y2="152" stroke="url(#lineGradient)" strokeWidth="1.5" className="animate-pulse" style={{animationDuration: '3s', animationDelay: '0.5s'}}/>
                                            <line x1="250" y1="250" x2="419" y2="348" stroke="url(#lineGradient)" strokeWidth="1.5" className="animate-pulse" style={{animationDuration: '3s', animationDelay: '1s'}}/>
                                            <line x1="250" y1="250" x2="250" y2="440" stroke="rgba(6, 182, 212, 0.5)" strokeWidth="1.5" className="animate-pulse" style={{animationDuration: '3s', animationDelay: '1.5s'}}/>
                                            <line x1="250" y1="250" x2="81" y2="348" stroke="url(#lineGradient)" strokeWidth="1.5" className="animate-pulse" style={{animationDuration: '3s', animationDelay: '2s'}}/>
                                            <line x1="250" y1="250" x2="81" y2="152" stroke="url(#lineGradient)" strokeWidth="1.5" className="animate-pulse" style={{animationDuration: '3s', animationDelay: '2.5s'}}/>
                                            {/* Orbit ring */}
                                            <circle cx="250" cy="250" r="190" fill="none" stroke="url(#lineGradient)" strokeWidth="1.5" strokeDasharray="10 10" className="animate-spin" style={{animationDuration: '60s', transformOrigin: 'center'}}/>
                                        </svg>

                                        {/* Center Icon - Shift4 Logo */}
                                        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 group cursor-pointer">
                                            <div
                                                className="w-28 h-28 rounded-2xl overflow-hidden shadow-2xl shadow-shift4-sky-blue/40 bg-[#1a1a2e] group-hover:scale-110 transition-all duration-300 animate-pulse group-hover:[animation-play-state:paused] group-hover:opacity-100 group-hover:shadow-[0_0_60px_rgba(19,110,246,0.6)] group-hover:brightness-110"
                                                style={{animationDuration: '3s'}}
                                            >
                                                <img src="../site/s4-center-icon.png" alt="Shift4" className="w-full h-full object-cover" onError={(e) => { e.target.style.opacity = '0'; }} />
                                            </div>
                                            <span className="absolute -bottom-8 left-1/2 -translate-x-1/2 text-sm text-slate-400 font-medium whitespace-nowrap">Wallet</span>
                                        </div>
                                        {/* Center glow ring */}
                                        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 rounded-full bg-shift4-sky-blue/20 blur-xl animate-ping" style={{animationDuration: '2s'}}></div>

                                        {/* Orbiting Icons */}
                                        {/* Top - Payments */}
                                        <div className="absolute top-[20px] left-[214px] group cursor-pointer" style={{animation: 'float 4s ease-in-out infinite'}}>
                                            <div className="w-[72px] h-[72px] rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center shadow-lg shadow-emerald-500/30 group-hover:scale-110 transition-transform">
                                                <Icons.Zap className="w-9 h-9 text-white" />
                                            </div>
                                            <span className="absolute -bottom-7 left-1/2 -translate-x-1/2 text-sm text-slate-400 font-medium whitespace-nowrap">Payments</span>
                                        </div>

                                        {/* Top Right - Passes */}
                                        <div className="absolute top-[116px] right-[45px] group cursor-pointer" style={{animation: 'float 4s ease-in-out infinite', animationDelay: '0.5s'}}>
                                            <div className="w-[72px] h-[72px] rounded-xl bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center shadow-lg shadow-violet-500/30 group-hover:scale-110 transition-transform">
                                                <Icons.Ticket className="w-9 h-9 text-white" />
                                            </div>
                                            <span className="absolute -bottom-7 left-1/2 -translate-x-1/2 text-sm text-slate-400 font-medium whitespace-nowrap">Passes</span>
                                        </div>

                                        {/* Bottom Right - Orders */}
                                        <div className="absolute bottom-[116px] right-[45px] group cursor-pointer" style={{animation: 'float 4s ease-in-out infinite', animationDelay: '1s'}}>
                                            <div className="w-[72px] h-[72px] rounded-xl bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center shadow-lg shadow-orange-500/30 group-hover:scale-110 transition-transform">
                                                <Icons.ShoppingBag className="w-9 h-9 text-white" />
                                            </div>
                                            <span className="absolute -bottom-7 left-1/2 -translate-x-1/2 text-sm text-slate-400 font-medium whitespace-nowrap">Ordering</span>
                                        </div>

                                        {/* Bottom - Analytics */}
                                        <div className="absolute bottom-[20px] left-[214px] group cursor-pointer" style={{animation: 'float 4s ease-in-out infinite', animationDelay: '1.5s'}}>
                                            <div className="w-[72px] h-[72px] rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center shadow-lg shadow-cyan-500/30 group-hover:scale-110 transition-transform">
                                                <Icons.Activity className="w-9 h-9 text-white" />
                                            </div>
                                            <span className="absolute -bottom-7 left-1/2 -translate-x-1/2 text-sm text-slate-400 font-medium whitespace-nowrap">Analytics</span>
                                        </div>

                                        {/* Bottom Left - Loyalty */}
                                        <div className="absolute bottom-[116px] left-[45px] group cursor-pointer" style={{animation: 'float 4s ease-in-out infinite', animationDelay: '2s'}}>
                                            <div className="w-[72px] h-[72px] rounded-xl bg-gradient-to-br from-rose-500 to-pink-500 flex items-center justify-center shadow-lg shadow-rose-500/30 group-hover:scale-110 transition-transform">
                                                <Icons.Gift className="w-9 h-9 text-white" />
                                            </div>
                                            <span className="absolute -bottom-7 left-1/2 -translate-x-1/2 text-sm text-slate-400 font-medium whitespace-nowrap">Loyalty</span>
                                        </div>

                                        {/* Top Left - Integrations */}
                                        <div className="absolute top-[116px] left-[45px] group cursor-pointer" style={{animation: 'float 4s ease-in-out infinite', animationDelay: '2.5s'}}>
                                            <div className="w-[72px] h-[72px] rounded-xl bg-gradient-to-br from-shift4-sky-blue to-indigo-500 flex items-center justify-center shadow-lg shadow-shift4-sky-blue/30 group-hover:scale-110 transition-transform">
                                                <Icons.Link className="w-9 h-9 text-white" />
                                            </div>
                                            <span className="absolute -bottom-7 left-1/2 -translate-x-1/2 text-sm text-slate-400 font-medium whitespace-nowrap">Integrations</span>
                                        </div>
                                    </div>
                                </div>

                                {/* Right Side - Content */}
                                <div className="w-full lg:w-1/2 text-center lg:text-left">
                                    {/* Mobile-First Badge with pulse glow */}
                                    <div className="inline-flex items-center mb-4 px-4 py-1.5 rounded-full border border-shift4-sky-blue/30 bg-shift4-sky-blue/10 text-shift4-sky-blue text-sm font-semibold tracking-widest uppercase animate-fade-in-up animate-pulse-glow hover:scale-105 hover:bg-shift4-sky-blue/20 transition-all duration-300 cursor-default">
                                        <span className="w-2 h-2 rounded-full bg-shift4-sky-blue mr-2 animate-pulse"></span>
                                        Mobile-First Platform
                                    </div>

                                    <h1 id="wallet-overview-heading" className="text-5xl md:text-7xl lg:text-8xl font-black text-white tracking-tight mb-6 leading-[0.9]">
                                        <span className="block text-slate-400 text-xl md:text-2xl font-medium tracking-[0.3em] uppercase mb-3 animate-fade-in-up delay-100 hover:text-slate-300 transition-colors duration-300">SkyTab Venue</span>
                                        <span className="relative animate-fade-in-up delay-200 block">
                                            <span className="text-transparent bg-clip-text bg-gradient-to-r from-white via-shift4-sky-blue to-cyan-400 animate-gradient-shift hover:opacity-90 transition-opacity duration-300">WALLET</span>
                                            <span className="absolute -inset-2 bg-gradient-to-r from-shift4-sky-blue/20 to-cyan-400/20 blur-3xl -z-10 animate-pulse" style={{animationDuration: '3s'}}></span>
                                        </span>
                                    </h1>

                                    <p className="text-xl md:text-2xl text-slate-300 mb-10 leading-relaxed max-w-xl animate-fade-in-up delay-300">
                                        Unify payments, perks, and ordering for every guest, from entry to exit.
                                    </p>

                                    {/* Stats Row - Interactive */}
                                    <div className="flex flex-wrap justify-center lg:justify-start gap-6 mb-10 animate-fade-in-up delay-400">
                                        <div className="text-center">
                                            <div className="text-3xl md:text-4xl font-black text-white">One</div>
                                            <div className="text-xs text-slate-400 uppercase tracking-wider font-light">Platform</div>
                                        </div>
                                        <div className="w-px bg-shift4-cool-grey/20 hidden md:block"></div>
                                        <div className="text-center">
                                            <div className="text-3xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400">Faster</div>
                                            <div className="text-xs text-slate-400 uppercase tracking-wider font-light">Payments</div>
                                        </div>
                                        <div className="w-px bg-shift4-cool-grey/20 hidden md:block"></div>
                                        <div className="text-center">
                                            <div className="text-3xl md:text-4xl font-black text-white">Real-Time</div>
                                            <div className="text-xs text-slate-400 uppercase tracking-wider font-light">Insights</div>
                                        </div>
                                    </div>

                                    {/* Partner Logos */}
                                    <div className="flex flex-wrap justify-center lg:justify-start items-center gap-4 animate-fade-in-up delay-500">
                                        <span className="text-sm text-slate-400 uppercase tracking-wider font-light mr-2">Works with</span>
                                        <span className="px-4 py-2 rounded-lg bg-white/5 border border-shift4-cool-grey/20 text-slate-300 text-sm font-medium">Ticketmaster</span>
                                        <span className="px-4 py-2 rounded-lg bg-white/5 border border-shift4-cool-grey/20 text-slate-300 text-sm font-medium">SeatGeek</span>
                                        <span className="px-4 py-2 rounded-lg bg-white/5 border border-shift4-cool-grey/20 text-slate-300 text-sm font-medium">AXS</span>
                                        <span className="px-4 py-2 rounded-lg bg-white/5 border border-shift4-sky-blue/30 text-shift4-sky-blue text-sm font-medium">+more</span>
                                    </div>
                                </div>

                            </div>

                        </div>

                        {/* Bottom Capability Ticker - positioned relative to section */}
                        <div className="absolute bottom-4 left-0 right-0 overflow-hidden">
                            <div className="flex animate-marquee whitespace-nowrap">
                                {[...Array(3)].map((_, i) => (
                                    <div key={i} className="flex items-center gap-8 mx-8">
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-emerald-500"></span> QR Payments</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-violet-500"></span> Apple & Google Wallet</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-orange-500"></span> Mobile Orders</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-rose-500"></span> Loyalty Rewards</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-cyan-500"></span> Stored Value</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-shift4-sky-blue"></span> Real-Time Analytics</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-blue-500"></span> Member Identity</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-cyan-400"></span> Tokenized Storage</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-purple-500"></span> Pass Builder</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-emerald-400"></span> Geofence Notifications</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-rose-400"></span> Campaign Notifications</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-violet-400"></span> Loaded Tickets</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-pink-500"></span> Gift Card Integration</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-amber-500"></span> F&B Pickup & Delivery</span>
                                        <span className="text-slate-400 text-sm font-light flex items-center gap-2"><span className="w-1.5 h-1.5 rounded-full bg-indigo-500"></span> Native iOS & Android SDK</span>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Snap scroll override - sections snap flush to top */}
                        <style>{`
                            section[id] { scroll-margin-top: 0; }

                            /* ========== BASE CARD STYLING ========== */
                            .capability-card {
                                background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%);
                                border: 1px solid rgba(148, 163, 184, 0.12);
                                backdrop-filter: blur(12px);
                                -webkit-backdrop-filter: blur(12px);
                                transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                                position: relative;
                                box-shadow:
                                    0 4px 24px -4px rgba(0, 0, 0, 0.3),
                                    inset 0 1px 0 rgba(255, 255, 255, 0.05);
                            }

                            .capability-card::before {
                                content: '';
                                position: absolute;
                                inset: 0;
                                border-radius: inherit;
                                padding: 1px;
                                background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%, transparent 100%);
                                -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
                                mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
                                -webkit-mask-composite: xor;
                                mask-composite: exclude;
                                opacity: 0.5;
                                transition: opacity 0.4s ease;
                            }

                            .capability-card:hover {
                                border-color: rgba(148, 163, 184, 0.25);
                                box-shadow:
                                    0 12px 40px -8px rgba(0, 0, 0, 0.4),
                                    inset 0 1px 0 rgba(255, 255, 255, 0.08);
                            }

                            .capability-card:hover::before {
                                opacity: 1;
                            }

                            /* ========== HERO CARDS (3 main) ========== */
                            .capability-card-hero {
                                min-height: 200px;
                            }

                            .capability-card-hero:hover {
                                transform: translateY(-6px) scale(1.02);
                            }

                            .capability-card-hero:hover .icon-wrap {
                                transform: scale(1.12);
                                box-shadow: 0 8px 32px -4px currentColor;
                            }

                            .capability-card-hero .icon-wrap {
                                transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                            }

                            /* ========== COMPACT CARDS (7 features) ========== */
                            .capability-card-compact {
                                min-height: 150px;
                            }

                            .capability-card-compact:hover {
                                transform: translateY(-4px);
                            }

                            .capability-card-compact:hover .icon-wrap {
                                transform: scale(1.1);
                            }

                            .capability-card-compact .icon-wrap {
                                transition: all 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                            }

                            /* ========== GLOW ELEMENT STYLING ========== */
                            .capability-glow {
                                position: absolute;
                                border-radius: 50%;
                                pointer-events: none;
                                opacity: 0.35;
                                transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                                filter: blur(60px);
                                z-index: 0;
                            }

                            .capability-glow-hero {
                                width: 200px;
                                height: 200px;
                                top: -60px;
                                filter: blur(80px);
                            }

                            .capability-glow-compact {
                                width: 120px;
                                height: 120px;
                                top: -40px;
                                filter: blur(50px);
                            }

                            .capability-card:hover .capability-glow {
                                opacity: 0.6;
                                transform: translateX(-50%) scale(1.3);
                            }

                            /* ========== COLOR-SPECIFIC GLOWS ========== */
                            .glow-blue {
                                background: radial-gradient(circle, rgba(59, 130, 246, 0.8) 0%, rgba(6, 182, 212, 0.4) 50%, transparent 70%);
                            }
                            .border-glow-blue:hover {
                                border-color: rgba(59, 130, 246, 0.3);
                                box-shadow:
                                    0 12px 40px -8px rgba(59, 130, 246, 0.25),
                                    inset 0 1px 0 rgba(59, 130, 246, 0.1);
                            }

                            .glow-emerald {
                                background: radial-gradient(circle, rgba(16, 185, 129, 0.8) 0%, rgba(20, 184, 166, 0.4) 50%, transparent 70%);
                            }
                            .border-glow-emerald:hover {
                                border-color: rgba(16, 185, 129, 0.3);
                                box-shadow:
                                    0 12px 40px -8px rgba(16, 185, 129, 0.25),
                                    inset 0 1px 0 rgba(16, 185, 129, 0.1);
                            }

                            .glow-shift4 {
                                background: radial-gradient(circle, rgba(56, 189, 248, 0.8) 0%, rgba(99, 102, 241, 0.4) 50%, transparent 70%);
                            }
                            .border-glow-shift4:hover {
                                border-color: rgba(56, 189, 248, 0.3);
                                box-shadow:
                                    0 12px 40px -8px rgba(56, 189, 248, 0.25),
                                    inset 0 1px 0 rgba(56, 189, 248, 0.1);
                            }

                            .glow-orange {
                                background: radial-gradient(circle, rgba(249, 115, 22, 0.8) 0%, rgba(245, 158, 11, 0.4) 50%, transparent 70%);
                            }
                            .border-glow-orange:hover {
                                border-color: rgba(249, 115, 22, 0.3);
                                box-shadow:
                                    0 12px 40px -8px rgba(249, 115, 22, 0.25),
                                    inset 0 1px 0 rgba(249, 115, 22, 0.1);
                            }

                            .glow-amber {
                                background: radial-gradient(circle, rgba(245, 158, 11, 0.8) 0%, rgba(234, 179, 8, 0.4) 50%, transparent 70%);
                            }
                            .border-glow-amber:hover {
                                border-color: rgba(245, 158, 11, 0.3);
                                box-shadow:
                                    0 12px 40px -8px rgba(245, 158, 11, 0.25),
                                    inset 0 1px 0 rgba(245, 158, 11, 0.1);
                            }

                            .glow-rose {
                                background: radial-gradient(circle, rgba(244, 63, 94, 0.8) 0%, rgba(236, 72, 153, 0.4) 50%, transparent 70%);
                            }
                            .border-glow-rose:hover {
                                border-color: rgba(244, 63, 94, 0.3);
                                box-shadow:
                                    0 12px 40px -8px rgba(244, 63, 94, 0.25),
                                    inset 0 1px 0 rgba(244, 63, 94, 0.1);
                            }

                            .glow-violet {
                                background: radial-gradient(circle, rgba(139, 92, 246, 0.8) 0%, rgba(168, 85, 247, 0.4) 50%, transparent 70%);
                            }
                            .border-glow-violet:hover {
                                border-color: rgba(139, 92, 246, 0.3);
                                box-shadow:
                                    0 12px 40px -8px rgba(139, 92, 246, 0.25),
                                    inset 0 1px 0 rgba(139, 92, 246, 0.1);
                            }

                            .glow-lime {
                                background: radial-gradient(circle, rgba(132, 204, 22, 0.8) 0%, rgba(163, 230, 53, 0.4) 50%, transparent 70%);
                            }
                            .border-glow-lime:hover {
                                border-color: rgba(132, 204, 22, 0.3);
                                box-shadow:
                                    0 12px 40px -8px rgba(132, 204, 22, 0.25),
                                    inset 0 1px 0 rgba(132, 204, 22, 0.1);
                            }

                            /* ========== ICON GLOW ON HOVER ========== */
                            .capability-card:hover .icon-wrap {
                                box-shadow: 0 0 30px -5px currentColor;
                            }

                            /* ========== BREATHING ANIMATION FOR GLOWS ========== */
                            @keyframes glow-breathe {
                                0%, 100% { opacity: 0.35; transform: translateX(-50%) scale(1); }
                                50% { opacity: 0.45; transform: translateX(-50%) scale(1.1); }
                            }

                            .capability-card:not(:hover) .capability-glow {
                                animation: glow-breathe 4s ease-in-out infinite;
                            }
                        `}</style>
                    </section>

                    {/* SECTION 2: Wallet Interface - iPhone Showcase */}
                    <section id="wallet-interface" aria-labelledby="wallet-interface-heading" className="snap-start snap-always h-screen overflow-hidden bg-shift4-midnight-blue flex items-center isolate">
                        <div className="container mx-auto px-6 py-6">
                            {/* Section Header */}
                            <div className="text-center mb-8">
                                <span className="text-shift4-sky-blue font-semibold tracking-[0.2em] uppercase text-xs mb-3 block">Mobile Interface</span>
                                <h2 id="wallet-interface-heading" className="text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight">Wallet Experience</h2>
                                <p className="text-slate-300 max-w-2xl mx-auto text-base leading-relaxed">
                                    Seamless mobile experience with digital passes, stored value, and instant payments.
                                </p>
                            </div>

                            {/* iPhone Mockup Hero - 3 Phones */}
                            <div className="flex justify-center items-center gap-8">
                                {/* iPhone 1 - Wallet Badge Screen */}
                                <PhoneMockup
                                    src="../site/wallet-badge.png"
                                    alt="Wallet Badge - Shift4 Stadium pass with QR code"
                                />

                                {/* iPhone 2 - Wallet Screen */}
                                <PhoneMockup
                                    src="../site/Walletscreen.png"
                                    alt="Wallet Screen - Mobile interface showing Shift4 Bucks balance and menu options"
                                />

                                {/* iPhone 3 - Cards Screen */}
                                <PhoneMockup
                                    src="../site/cardsscreen.png"
                                    alt="Cards Screen - Credit card selection and Shift4Bucks payment interface"
                                />
                            </div>
                        </div>
                    </section>

                    {/* SECTION 3: Wallet Capabilities */}
                    <section id="wallet-capabilities" aria-labelledby="wallet-capabilities-heading" className="snap-start snap-always h-screen overflow-hidden bg-shift4-midnight-blue/95 flex items-start pt-10 isolate">
                        <div className="container mx-auto px-6">
                            {/* Section Header */}
                            <div className="text-center mb-6">
                                <span className="text-shift4-sky-blue font-semibold tracking-[0.2em] uppercase text-xs mb-3 block">Mobile Commerce</span>
                                <h2 id="wallet-capabilities-heading" className="text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight">Wallet Capabilities</h2>
                                <p className="text-slate-300 max-w-2xl mx-auto text-base leading-relaxed">
                                    One wallet experience for payments, perks, and ordering across the venue.
                                </p>
                            </div>

                            {/* All Capabilities in a unified centered grid */}
                            <div className="max-w-7xl mx-auto">
                                {/* Main Capabilities - 3 cards in a row */}
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-5 mb-5">
                                    {CAPABILITIES_DATA.filter(cap => cap.category === 'main').map((cap) => {
                                        const Icon = cap.icon;
                                        const glowClass = getGlowClasses(cap.glowColor);
                                        return (
                                            <button
                                                key={cap.id}
                                                onClick={() => setActiveCapability(cap)}
                                                className={`capability-card capability-card-hero ${glowClass.split(' ')[1]} group relative text-center p-8 rounded-2xl cursor-pointer overflow-hidden min-h-[210px] flex flex-col items-center justify-center`}
                                            >
                                                <div className={`capability-glow capability-glow-hero ${glowClass.split(' ')[0]}`} style={{left: '50%', transform: 'translateX(-50%)'}}></div>
                                                <div className="absolute top-4 right-4 w-6 h-6 rounded-full bg-white/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="text-white/60"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                                </div>
                                                <div className={`icon-wrap w-16 h-16 rounded-xl bg-gradient-to-br ${cap.gradientFrom} ${cap.gradientTo} flex items-center justify-center shadow-lg mb-4 relative z-10`}>
                                                    {Icon && <Icon className="w-8 h-8 text-white" />}
                                                </div>
                                                <h3 className="font-bold text-white text-xl leading-tight mb-2 relative z-10">{cap.title}</h3>
                                                <p className="text-slate-300 text-base leading-relaxed relative z-10">{cap.oneLiner}</p>
                                            </button>
                                        );
                                    })}
                                </div>

                                {/* Features - 7 cards: 4 on top, 3 centered below */}
                                <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4">
                                    {CAPABILITIES_DATA.filter(cap => cap.category === 'feature').slice(0, 4).map((cap) => {
                                        const Icon = cap.icon;
                                        const glowClass = getGlowClasses(cap.glowColor);
                                        const handleClick = () => {
                                            if (cap.isModal) {
                                                if (cap.modalType === 'case-studies') {
                                                    setCaseStudiesKey(k => k + 1);
                                                    setCaseStudiesOpen(true);
                                                } else if (cap.modalType === 'guest-journeys') {
                                                    setGuestJourneysKey(k => k + 1);
                                                    setGuestJourneysOpen(true);
                                                }
                                            } else {
                                                setActiveCapability(cap);
                                            }
                                        };
                                        return (
                                            <button key={cap.id} onClick={handleClick} className={`capability-card capability-card-compact ${glowClass.split(' ')[1]} group relative text-center p-5 rounded-xl cursor-pointer overflow-hidden flex flex-col items-center justify-center min-h-[165px]`}>
                                                <div className={`capability-glow capability-glow-compact ${glowClass.split(' ')[0]}`} style={{left: '50%', transform: 'translateX(-50%)'}}></div>
                                                <div className="absolute top-2 right-2 w-5 h-5 rounded-full bg-white/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="text-white/60"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                                </div>
                                                <div className={`icon-wrap w-12 h-12 rounded-lg bg-gradient-to-br ${cap.gradientFrom} ${cap.gradientTo} flex items-center justify-center shadow-md mb-3 relative z-10`}>
                                                    {Icon && <Icon className="w-6 h-6 text-white" />}
                                                </div>
                                                <h3 className="font-semibold text-white text-base leading-tight mb-1 relative z-10">{cap.title}</h3>
                                                <p className="text-slate-400 text-sm leading-relaxed relative z-10 line-clamp-2">{cap.oneLiner}</p>
                                            </button>
                                        );
                                    })}
                                </div>

                                {/* Bottom row - 3 centered */}
                                <div className="flex justify-center gap-4">
                                    {CAPABILITIES_DATA.filter(cap => cap.category === 'feature').slice(4, 7).map((cap) => {
                                        const Icon = cap.icon;
                                        const glowClass = getGlowClasses(cap.glowColor);
                                        const handleClick = () => {
                                            if (cap.isModal) {
                                                if (cap.modalType === 'case-studies') {
                                                    setCaseStudiesKey(k => k + 1);
                                                    setCaseStudiesOpen(true);
                                                } else if (cap.modalType === 'guest-journeys') {
                                                    setGuestJourneysKey(k => k + 1);
                                                    setGuestJourneysOpen(true);
                                                }
                                            } else {
                                                setActiveCapability(cap);
                                            }
                                        };
                                        return (
                                            <button key={cap.id} onClick={handleClick} className={`capability-card capability-card-compact ${glowClass.split(' ')[1]} group relative text-center p-5 rounded-xl cursor-pointer overflow-hidden flex flex-col items-center justify-center min-h-[165px] w-full md:w-[calc(25%-0.75rem)]`}>
                                                <div className={`capability-glow capability-glow-compact ${glowClass.split(' ')[0]}`} style={{left: '50%', transform: 'translateX(-50%)'}}></div>
                                                <div className="absolute top-2 right-2 w-5 h-5 rounded-full bg-white/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="text-white/60"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                                </div>
                                                <div className={`icon-wrap w-12 h-12 rounded-lg bg-gradient-to-br ${cap.gradientFrom} ${cap.gradientTo} flex items-center justify-center shadow-md mb-3 relative z-10`}>
                                                    {Icon && <Icon className="w-6 h-6 text-white" />}
                                                </div>
                                                <h3 className="font-semibold text-white text-base leading-tight mb-1 relative z-10">{cap.title}</h3>
                                                <p className="text-slate-400 text-sm leading-relaxed relative z-10 line-clamp-2">{cap.oneLiner}</p>
                                            </button>
                                        );
                                    })}
                                </div>
                            </div>

                            {/* Hint text */}
                            <p className="text-center text-slate-500 text-xs mt-5">Click any tile to explore details</p>
                        </div>

                        {/* Capability Detail Modal */}
                        {activeCapability && (
                            <div
                                className={`fixed inset-0 z-50 flex items-center justify-center p-4 ${capabilityClosing ? 'animate-capability-backdrop-out' : 'animate-capability-backdrop-in'}`}
                                onClick={closeCapabilityModal}
                            >
                                {/* Backdrop - translucent to show content behind */}
                                <div className="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>

                                {/* Modal Content with Nav Arrows */}
                                <div className={`relative flex items-center gap-3 ${capabilityClosing ? 'animate-capability-modal-out' : 'animate-capability-modal-in'}`}>
                                    {/* Previous button */}
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            if (isNavigating) return;
                                            const currentIndex = CAPABILITIES_DATA.findIndex(c => c.id === activeCapability.id);
                                            const prevIndex = (currentIndex - 1 + CAPABILITIES_DATA.length) % CAPABILITIES_DATA.length;
                                            const prevCap = CAPABILITIES_DATA[prevIndex];

                                            // Trigger exit animation, then swap content
                                            setIsNavigating(true);
                                            setNavAnimation('out');
                                            setTimeout(() => {
                                                if (prevCap.isModal) {
                                                    setActiveCapability(null);
                                                    setIsNavigating(false);
                                                    setNavAnimation('');
                                                    if (prevCap.modalType === 'case-studies') {
                                                        setCaseStudiesKey(k => k + 1);
                                                        setCaseStudiesOpen(true);
                                                    } else if (prevCap.modalType === 'guest-journeys') {
                                                        setGuestJourneysKey(k => k + 1);
                                                        setGuestJourneysOpen(true);
                                                    }
                                                } else {
                                                    setActiveCapability(prevCap);
                                                    setContentKey(k => k + 1);
                                                    setNavAnimation('in');
                                                    setIsNavigating(false);
                                                    setTimeout(() => setNavAnimation(''), 200);
                                                }
                                            }, 150);
                                        }}
                                        className="w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 border border-white/10 hover:border-white/25 flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 flex-shrink-0 backdrop-blur-sm"
                                        aria-label="Previous capability"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="text-white/90 -translate-x-0.5">
                                            <polyline points="15 18 9 12 15 6"></polyline>
                                        </svg>
                                    </button>

                                    {/* Modal Panel */}
                                    <div
                                        className={`relative max-w-xl w-full rounded-3xl overflow-hidden border border-white/15 ${
                                            navAnimation === 'out' ? 'animate-nav-out' : navAnimation === 'in' ? 'animate-nav-in' : ''
                                        }`}
                                        style={{
                                            background: 'linear-gradient(165deg, rgba(51, 65, 85, 0.97) 0%, rgba(30, 41, 59, 0.98) 100%)',
                                            boxShadow: '0 50px 100px -20px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.1)',
                                            minHeight: '420px'
                                        }}
                                        onClick={(e) => e.stopPropagation()}
                                        role="dialog"
                                        aria-modal="true"
                                        aria-labelledby="capability-modal-title"
                                    >
                                    {/* Accent bar at top */}
                                    <div className={`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${activeCapability.gradientFrom} ${activeCapability.gradientTo}`}></div>

                                    {/* Ambient glow effect */}
                                    <div className={`modal-ambient-glow absolute -top-32 -right-32 w-72 h-72 bg-gradient-to-br ${activeCapability.gradientFrom} ${activeCapability.gradientTo} rounded-full blur-3xl opacity-20`}></div>
                                    <div className={`modal-ambient-glow absolute -bottom-32 -left-32 w-72 h-72 bg-gradient-to-br ${activeCapability.gradientFrom} ${activeCapability.gradientTo} rounded-full blur-3xl opacity-10`} style={{animationDelay: '2s'}}></div>

                                    {/* Close button */}
                                    <button
                                        onClick={closeCapabilityModal}
                                        className="absolute top-5 right-5 z-10 w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 border border-white/10 hover:border-white/20 flex items-center justify-center transition-all duration-300 hover:rotate-90 hover:scale-110 active:scale-95"
                                        aria-label="Close modal"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-white/80">
                                            <line x1="18" y1="6" x2="6" y2="18"></line>
                                            <line x1="6" y1="6" x2="18" y2="18"></line>
                                        </svg>
                                    </button>

                                    {/* Content */}
                                    <div key={contentKey} className="relative p-8 pt-10">
                                        {/* Header: Icon + Title side by side */}
                                        <div className="flex items-center gap-5 mb-5">
                                            <div className={`modal-icon-entrance modal-icon-float relative w-16 h-16 rounded-2xl bg-gradient-to-br ${activeCapability.gradientFrom} ${activeCapability.gradientTo} flex items-center justify-center shadow-xl flex-shrink-0`}>
                                                <div className={`modal-icon-glow rounded-2xl bg-gradient-to-br ${activeCapability.gradientFrom} ${activeCapability.gradientTo}`}></div>
                                                <activeCapability.icon className="w-8 h-8 text-white relative z-10" />
                                            </div>
                                            <h3 id="capability-modal-title" className="modal-title-entrance text-2xl font-bold text-white">{activeCapability.title}</h3>
                                        </div>

                                        {/* One-liner */}
                                        <p className="modal-description-entrance text-slate-300 text-base mb-6 leading-relaxed">{activeCapability.oneLiner}</p>

                                        {/* Divider */}
                                        <div className={`modal-divider h-px bg-gradient-to-r ${activeCapability.gradientFrom} via-white/20 ${activeCapability.gradientTo} mb-6`}></div>

                                        {/* Details list */}
                                        {activeCapability.details && (
                                        <ul className="space-y-1">
                                            {activeCapability.details.map((detail, idx) => (
                                                <li key={idx} className="capability-detail-item flex items-start gap-3">
                                                    <div className={`detail-checkmark w-5 h-5 rounded-full bg-gradient-to-br ${activeCapability.gradientFrom} ${activeCapability.gradientTo} flex items-center justify-center flex-shrink-0 mt-0.5 shadow-lg`}>
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" className="text-white">
                                                            <polyline points="20 6 9 17 4 12"></polyline>
                                                        </svg>
                                                    </div>
                                                    <span className="text-slate-200 text-sm leading-relaxed">{detail}</span>
                                                </li>
                                            ))}
                                        </ul>
                                        )}

                                        {/* Action button (for Redemption card) */}
                                        {activeCapability.hasAction && (
                                            <button
                                                onClick={() => {
                                                    closeCapabilityModal();
                                                    setTimeout(() => activeCapability.onAction(), 250);
                                                }}
                                                className={`mt-8 w-full px-6 py-3 bg-gradient-to-r ${activeCapability.gradientFrom} ${activeCapability.gradientTo} text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] transition-all duration-200 flex items-center justify-center gap-2`}
                                            >
                                                {activeCapability.actionLabel}
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round">
                                                    <polyline points="9 18 15 12 9 6"></polyline>
                                                </svg>
                                            </button>
                                        )}

                                    </div>
                                    </div>

                                    {/* Next button */}
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            if (isNavigating) return;
                                            const currentIndex = CAPABILITIES_DATA.findIndex(c => c.id === activeCapability.id);
                                            const nextIndex = (currentIndex + 1) % CAPABILITIES_DATA.length;
                                            const nextCap = CAPABILITIES_DATA[nextIndex];

                                            // Trigger exit animation, then swap content
                                            setIsNavigating(true);
                                            setNavAnimation('out');
                                            setTimeout(() => {
                                                if (nextCap.isModal) {
                                                    setActiveCapability(null);
                                                    setIsNavigating(false);
                                                    setNavAnimation('');
                                                    if (nextCap.modalType === 'case-studies') {
                                                        setCaseStudiesKey(k => k + 1);
                                                        setCaseStudiesOpen(true);
                                                    } else if (nextCap.modalType === 'guest-journeys') {
                                                        setGuestJourneysKey(k => k + 1);
                                                        setGuestJourneysOpen(true);
                                                    }
                                                } else {
                                                    setActiveCapability(nextCap);
                                                    setContentKey(k => k + 1);
                                                    setNavAnimation('in');
                                                    setIsNavigating(false);
                                                    setTimeout(() => setNavAnimation(''), 200);
                                                }
                                            }, 150);
                                        }}
                                        className="w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 border border-white/10 hover:border-white/25 flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 flex-shrink-0 backdrop-blur-sm"
                                        aria-label="Next capability"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="text-white/90 translate-x-0.5">
                                            <polyline points="9 18 15 12 9 6"></polyline>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        )}

                        {/* Case Studies Modal */}
                        {caseStudiesOpen && (
                            <div
                                className="fixed inset-0 z-50 flex items-center justify-center p-4 animate-capability-backdrop-in"
                                onClick={() => setCaseStudiesOpen(false)}
                            >
                                {/* Backdrop - translucent */}
                                <div className="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>

                                {/* Modal Content with Nav Arrows */}
                                <div className="relative flex items-center gap-3 animate-capability-modal-in">
                                    {/* Previous button */}
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            const caseStudiesIndex = CAPABILITIES_DATA.findIndex(c => c.modalType === 'case-studies');
                                            const prevIndex = (caseStudiesIndex - 1 + CAPABILITIES_DATA.length) % CAPABILITIES_DATA.length;
                                            const prevCap = CAPABILITIES_DATA[prevIndex];
                                            setCaseStudiesOpen(false);
                                            if (prevCap.isModal) {
                                                if (prevCap.modalType === 'guest-journeys') {
                                                    setGuestJourneysKey(k => k + 1);
                                                    setGuestJourneysOpen(true);
                                                }
                                            } else {
                                                setActiveCapability(prevCap);
                                                setContentKey(k => k + 1);
                                            }
                                        }}
                                        className="w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 border border-white/10 hover:border-white/25 flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 flex-shrink-0 backdrop-blur-sm"
                                        aria-label="Previous capability"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="text-white/90 -translate-x-0.5">
                                            <polyline points="15 18 9 12 15 6"></polyline>
                                        </svg>
                                    </button>

                                    {/* Modal Panel */}
                                    <div
                                        className="relative max-w-4xl w-full rounded-3xl overflow-hidden border border-white/15"
                                        style={{
                                            background: 'linear-gradient(165deg, rgba(51, 65, 85, 0.97) 0%, rgba(30, 41, 59, 0.98) 100%)',
                                            boxShadow: '0 50px 100px -20px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.1)'
                                        }}
                                        onClick={(e) => e.stopPropagation()}
                                    >
                                        {/* Accent bar at top */}
                                        <div className="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500 to-blue-500"></div>

                                        {/* Close button */}
                                        <button
                                            onClick={() => setCaseStudiesOpen(false)}
                                            className="absolute top-5 right-5 z-10 w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 border border-white/10 hover:border-white/20 flex items-center justify-center transition-all duration-300 hover:rotate-90 hover:scale-110 active:scale-95"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-white/80">
                                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                                <line x1="6" y1="6" x2="18" y2="18"></line>
                                            </svg>
                                        </button>

                                    {/* Content */}
                                    <div key={caseStudiesKey} className="p-8">
                                        {/* Header */}
                                        <div className="flex items-center gap-4 mb-6">
                                            <div className="modal-icon-entrance modal-icon-float w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center shadow-lg">
                                                <Icons.FileText className="w-6 h-6 text-white" />
                                            </div>
                                            <div>
                                                <h3 className="modal-title-entrance text-2xl font-bold text-white">Case Studies</h3>
                                                <p className="modal-description-entrance text-slate-400 text-sm">Proven wallet configurations for common venue scenarios</p>
                                            </div>
                                        </div>

                                        {/* Case Studies Grid */}
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            {CASE_STUDIES_DATA.map((study) => {
                                                const Icon = study.icon;
                                                return (
                                                    <button
                                                        key={study.id}
                                                        onClick={() => setActiveCaseStudy(study)}
                                                        className="case-study-card group relative text-left p-5 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300"
                                                    >
                                                        {/* Header */}
                                                        <div className="flex items-center gap-3 mb-2">
                                                            <div className={`w-10 h-10 rounded-lg bg-gradient-to-br ${study.gradientFrom} ${study.gradientTo} flex items-center justify-center shadow-md flex-shrink-0`}>
                                                                {Icon && <Icon className="w-5 h-5 text-white" />}
                                                            </div>
                                                            <div>
                                                                <h4 className="font-semibold text-white text-sm">{study.title}</h4>
                                                                <span className="text-[10px] font-medium text-slate-500">{study.venue}</span>
                                                            </div>
                                                        </div>

                                                        {/* Type badge */}
                                                        <span className={`inline-block px-2 py-0.5 rounded-full text-[9px] font-medium bg-gradient-to-r ${study.gradientFrom} ${study.gradientTo} text-white/90 mb-2`}>
                                                            {study.type}
                                                        </span>

                                                        {/* Challenge preview */}
                                                        <p className="text-slate-400 text-xs leading-relaxed line-clamp-2 mb-3">{study.challenge}</p>

                                                        {/* Results preview */}
                                                        <div className="flex items-center justify-between">
                                                            <span className="text-emerald-400 text-[10px] font-medium">{study.results[0]}</span>
                                                            <span className="text-slate-500 text-[10px] group-hover:text-white/60 transition-colors">View details </span>
                                                        </div>
                                                    </button>
                                                );
                                            })}
                                        </div>
                                    </div>
                                    </div>

                                    {/* Next button */}
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            const caseStudiesIndex = CAPABILITIES_DATA.findIndex(c => c.modalType === 'case-studies');
                                            const nextIndex = (caseStudiesIndex + 1) % CAPABILITIES_DATA.length;
                                            const nextCap = CAPABILITIES_DATA[nextIndex];
                                            setCaseStudiesOpen(false);
                                            if (nextCap.isModal) {
                                                if (nextCap.modalType === 'guest-journeys') {
                                                    setGuestJourneysKey(k => k + 1);
                                                    setGuestJourneysOpen(true);
                                                }
                                            } else {
                                                setActiveCapability(nextCap);
                                                setContentKey(k => k + 1);
                                            }
                                        }}
                                        className="w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 border border-white/10 hover:border-white/25 flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 flex-shrink-0 backdrop-blur-sm"
                                        aria-label="Next capability"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="text-white/90 translate-x-0.5">
                                            <polyline points="9 18 15 12 9 6"></polyline>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        )}

                        {/* Case Study Detail Drawer */}
                        {activeCaseStudy && (
                            <div
                                className="fixed inset-0 z-[60] animate-capability-backdrop-in"
                                onClick={() => setActiveCaseStudy(null)}
                            >
                                <div className="absolute inset-0 bg-black/60 backdrop-blur-sm"></div>
                                <div
                                    className="absolute top-0 right-0 h-full w-full max-w-lg bg-gradient-to-b from-slate-900 to-slate-950 border-l border-white/10 shadow-2xl overflow-y-auto animate-slide-in-right"
                                    onClick={(e) => e.stopPropagation()}
                                >
                                    <button
                                        onClick={() => setActiveCaseStudy(null)}
                                        className="absolute top-4 right-4 w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors duration-200 z-10"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-white/80">
                                            <line x1="18" y1="6" x2="6" y2="18"></line>
                                            <line x1="6" y1="6" x2="18" y2="18"></line>
                                        </svg>
                                    </button>

                                    <div className="p-8 pt-16">
                                        {/* Header */}
                                        <div className="flex items-center gap-4 mb-2">
                                            <div className={`w-14 h-14 rounded-xl bg-gradient-to-br ${activeCaseStudy.gradientFrom} ${activeCaseStudy.gradientTo} flex items-center justify-center shadow-lg`}>
                                                {activeCaseStudy.icon && React.createElement(activeCaseStudy.icon, { className: "w-7 h-7 text-white" })}
                                            </div>
                                            <div>
                                                <span className={`inline-block px-2 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r ${activeCaseStudy.gradientFrom} ${activeCaseStudy.gradientTo} text-white/90 mb-1`}>
                                                    {activeCaseStudy.type}
                                                </span>
                                                <h3 className="text-2xl font-bold text-white">{activeCaseStudy.title}</h3>
                                            </div>
                                        </div>
                                        <p className="text-slate-500 text-sm mb-6">{activeCaseStudy.venue}</p>

                                        {/* Challenge */}
                                        <div className="mb-6">
                                            <h4 className="text-sm font-semibold text-white/60 uppercase tracking-wider mb-2 flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-amber-400"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                                                Challenge
                                            </h4>
                                            <p className="text-slate-300 text-sm leading-relaxed">{activeCaseStudy.challenge}</p>
                                        </div>

                                        {/* Solution */}
                                        <div className="mb-6">
                                            <h4 className="text-sm font-semibold text-white/60 uppercase tracking-wider mb-2 flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-blue-400"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg>
                                                Solution
                                            </h4>
                                            <p className="text-slate-300 text-sm leading-relaxed">{activeCaseStudy.solution}</p>
                                        </div>

                                        {/* Results */}
                                        <div className="mb-6">
                                            <h4 className="text-sm font-semibold text-white/60 uppercase tracking-wider mb-3 flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-emerald-400"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>
                                                Results
                                            </h4>
                                            <div className="space-y-2">
                                                {activeCaseStudy.results.map((result, i) => (
                                                    <div key={i} className="flex items-start gap-3 capability-detail-item">
                                                        <div className="w-5 h-5 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0 mt-0.5">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" className="text-emerald-400">
                                                                <polyline points="20 6 9 17 4 12"></polyline>
                                                            </svg>
                                                        </div>
                                                        <p className="text-slate-200 text-sm">{result}</p>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Features Used */}
                                        <div>
                                            <h4 className="text-sm font-semibold text-white/60 uppercase tracking-wider mb-3">Features Used</h4>
                                            <div className="flex flex-wrap gap-2">
                                                {activeCaseStudy.featuresUsed.map((feature, i) => (
                                                    <span key={i} className="px-3 py-1.5 rounded-full text-xs font-medium bg-white/10 text-white/80 border border-white/10">
                                                        {feature}
                                                    </span>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Guest Journeys Modal */}
                        {guestJourneysOpen && (
                            <div
                                className="fixed inset-0 z-50 flex items-center justify-center p-4 animate-capability-backdrop-in"
                                onClick={() => setGuestJourneysOpen(false)}
                            >
                                {/* Backdrop - translucent */}
                                <div className="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>

                                {/* Modal Content with Nav Arrows */}
                                <div className="relative flex items-center gap-3 animate-capability-modal-in">
                                    {/* Previous button */}
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            const guestJourneysIndex = CAPABILITIES_DATA.findIndex(c => c.modalType === 'guest-journeys');
                                            const prevIndex = (guestJourneysIndex - 1 + CAPABILITIES_DATA.length) % CAPABILITIES_DATA.length;
                                            const prevCap = CAPABILITIES_DATA[prevIndex];
                                            setGuestJourneysOpen(false);
                                            if (prevCap.isModal) {
                                                if (prevCap.modalType === 'case-studies') {
                                                    setCaseStudiesKey(k => k + 1);
                                                    setCaseStudiesOpen(true);
                                                }
                                            } else {
                                                setActiveCapability(prevCap);
                                                setContentKey(k => k + 1);
                                            }
                                        }}
                                        className="w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 border border-white/10 hover:border-white/25 flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 flex-shrink-0 backdrop-blur-sm"
                                        aria-label="Previous capability"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="text-white/90 -translate-x-0.5">
                                            <polyline points="15 18 9 12 15 6"></polyline>
                                        </svg>
                                    </button>

                                    {/* Modal Panel */}
                                    <div
                                        className="relative max-w-4xl w-full rounded-3xl overflow-hidden border border-white/15"
                                        style={{
                                            background: 'linear-gradient(165deg, rgba(51, 65, 85, 0.97) 0%, rgba(30, 41, 59, 0.98) 100%)',
                                            boxShadow: '0 50px 100px -20px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.1)'
                                        }}
                                        onClick={(e) => e.stopPropagation()}
                                    >
                                        {/* Accent bar at top */}
                                        <div className="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500 to-violet-500"></div>

                                        {/* Close button */}
                                        <button
                                            onClick={() => setGuestJourneysOpen(false)}
                                            className="absolute top-5 right-5 z-10 w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 border border-white/10 hover:border-white/20 flex items-center justify-center transition-all duration-300 hover:rotate-90 hover:scale-110 active:scale-95"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-white/80">
                                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                                <line x1="6" y1="6" x2="18" y2="18"></line>
                                            </svg>
                                        </button>

                                    {/* Content */}
                                    <div key={guestJourneysKey} className="p-8">
                                        {/* Header */}
                                        <div className="flex items-center gap-4 mb-6">
                                            <div className="modal-icon-entrance modal-icon-float w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-violet-500 flex items-center justify-center shadow-lg">
                                                <Icons.Activity className="w-6 h-6 text-white" />
                                            </div>
                                            <div>
                                                <h3 className="modal-title-entrance text-2xl font-bold text-white">Guest Journeys</h3>
                                                <p className="modal-description-entrance text-slate-400 text-sm">End-to-end guest experience flows</p>
                                            </div>
                                        </div>

                                        {/* Journey Grid */}
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            {GUEST_JOURNEYS_DATA.map((journey) => {
                                                const Icon = journey.icon;
                                                return (
                                                    <div
                                                        key={journey.id}
                                                        className="journey-card relative p-5 rounded-xl bg-white/5 border border-white/10"
                                                    >
                                                        {/* Header */}
                                                        <div className="flex items-center gap-3 mb-4">
                                                            <div className={`w-11 h-11 rounded-xl bg-gradient-to-br ${journey.gradientFrom} ${journey.gradientTo} flex items-center justify-center shadow-md flex-shrink-0`}>
                                                                {Icon && <Icon className="w-5 h-5 text-white" />}
                                                            </div>
                                                            <div>
                                                                <h4 className="font-semibold text-white text-base">{journey.title}</h4>
                                                                <p className="text-slate-500 text-xs">{journey.description}</p>
                                                            </div>
                                                        </div>

                                                        {/* Journey steps - centered with header icon */}
                                                        <div className="space-y-3 mb-4 ml-1.5">
                                                            {journey.journey.map((step, i) => (
                                                                <div key={i} className="flex items-start gap-3">
                                                                    <div className={`w-7 h-7 rounded-full bg-gradient-to-br ${journey.gradientFrom} ${journey.gradientTo} flex items-center justify-center text-white text-xs font-bold flex-shrink-0 mt-0.5`}>
                                                                        {step.step}
                                                                    </div>
                                                                    <div className="flex-1">
                                                                        <span className="text-white text-sm font-medium">{step.label}</span>
                                                                        <p className="text-slate-500 text-xs">{step.description}</p>
                                                                    </div>
                                                                </div>
                                                            ))}
                                                        </div>

                                                        {/* Surfaces */}
                                                        <div className="flex items-center gap-1.5 pt-3 border-t border-white/5 ml-1.5">
                                                            <span className="text-slate-600 text-[10px] mr-1">Works at:</span>
                                                            {journey.surfaces.map((surface, i) => (
                                                                <span key={i} className="px-2 py-0.5 text-[10px] font-medium text-slate-400 bg-white/5 rounded">{surface}</span>
                                                            ))}
                                                        </div>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </div>
                                    </div>

                                    {/* Next button */}
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            const guestJourneysIndex = CAPABILITIES_DATA.findIndex(c => c.modalType === 'guest-journeys');
                                            const nextIndex = (guestJourneysIndex + 1) % CAPABILITIES_DATA.length;
                                            const nextCap = CAPABILITIES_DATA[nextIndex];
                                            setGuestJourneysOpen(false);
                                            if (nextCap.isModal) {
                                                if (nextCap.modalType === 'case-studies') {
                                                    setCaseStudiesKey(k => k + 1);
                                                    setCaseStudiesOpen(true);
                                                }
                                            } else {
                                                setActiveCapability(nextCap);
                                                setContentKey(k => k + 1);
                                            }
                                        }}
                                        className="w-12 h-12 rounded-full bg-white/10 hover:bg-white/20 border border-white/10 hover:border-white/25 flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 flex-shrink-0 backdrop-blur-sm"
                                        aria-label="Next capability"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className="text-white/90 translate-x-0.5">
                                            <polyline points="9 18 15 12 9 6"></polyline>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        )}

                    </section>


                    {/* SECTION 4: Passes Highlights */}
                    <section id="passes-highlights" aria-labelledby="passes-highlights-heading" className="snap-start snap-always h-screen overflow-hidden bg-shift4-midnight-blue flex items-center relative isolate">
                        {/* Subtle background gradient */}
                        <div className="absolute inset-0 bg-gradient-to-br from-shift4-sky-blue/5 via-transparent to-cyan-500/5 pointer-events-none"></div>

                        <div className="container mx-auto px-6 relative z-10">
                            {/* Centered Section Header */}
                            <div className="text-center mb-4">
                                <span className="text-shift4-sky-blue font-semibold tracking-[0.2em] uppercase text-xs mb-3 block">Pass Technology</span>
                                <h2 id="passes-highlights-heading" className="text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight">Wallet Passes Built for Venues</h2>
                                <p className="text-slate-300 max-w-2xl mx-auto text-base leading-relaxed mb-4">Engage guests, speed checkout, and update benefits in real time.</p>
                                <div className="flex flex-wrap justify-center gap-3">
                                    <Badge>No app required</Badge>
                                    <Badge>Works on iPhone and Android</Badge>
                                    <Badge>Secure, tokenized pass</Badge>
                                </div>
                            </div>

                            {/* iPhone + Bento Tiles Layout */}
                            <div className="flex flex-col lg:flex-row items-center justify-center gap-2 lg:gap-0 max-w-7xl mx-auto">
                                {/* iPhone Carousel - Left Side */}
                                <div className="lg:w-[30%] flex justify-center lg:translate-y-[30px]">
                                <PhoneCarousel
                                    size="medium"
                                    currentSlide={passSlide}
                                    onSlideChange={setPassSlide}
                                    images={[
                                        { src: '../site/pass2.png', alt: 'Lock screen geofence notification - Welcome to Shift4 Stadium' },
                                        { src: '../site/pass1.png', alt: 'Shift4 Stadium pass - Gold Member with $250 balance and QR code' },
                                        { src: '../site/pass4.png', alt: 'Transactional notification - Balance update and transaction confirmation' },
                                        { src: '../site/pass5.png', alt: 'Mobile purchase screen - Order confirmation and payment' },
                                        { src: '../site/pass6.png', alt: 'Gold member benefits and rewards screen' },
                                        { src: '../site/decline.PNG', alt: 'Card authorization declined notification for Just Walk Out' },
                                        { src: '../site/pass3.png', alt: 'Lock screen push notification - Promotional offer for fans' }
                                    ]}
                                />
                                </div>

                                {/* Bento Grid - Right Side - 3-Row Layout */}
                                <div className="w-full lg:w-[70%] flex flex-col gap-3 lg:translate-y-[15px]">

                                    {/* Row 1: 2 Primary tiles */}
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                                        {/* Apple & Google Wallet */}
                                        <div
                                            onClick={() => setShowWalletVideo(true)}
                                            className="relative overflow-hidden rounded-xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 px-6 py-6 group transition-all duration-300 hover:border-shift4-sky-blue/40 cursor-pointer"
                                        >
                                            <div className="absolute -top-20 -right-20 w-40 h-40 bg-shift4-sky-blue/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                            <div className="flex items-start gap-4">
                                                <div className="w-11 h-11 rounded-lg bg-gradient-to-br from-shift4-sky-blue to-cyan-400 flex items-center justify-center shadow-lg shadow-shift4-sky-blue/25 flex-shrink-0 group-hover:scale-110 transition-all duration-300">
                                                    <Icons.Wallet className="w-5 h-5 text-white" />
                                                </div>
                                                <div className="flex-1">
                                                    <h3 className="text-xl font-bold text-white mb-1">Apple & Google Wallet</h3>
                                                    <p className="text-slate-200 text-base font-medium mb-1">Add a pass in seconds, with notifications enabled by default.</p>
                                                    <p className="text-slate-400 text-sm leading-relaxed">Scan at POS and kiosks for a simple, consistent guest experience.</p>
                                                </div>
                                            </div>
                                            {/* Play indicator */}
                                            <div className="absolute bottom-3 right-3 w-8 h-8 rounded-full bg-shift4-sky-blue/20 flex items-center justify-center group-hover:bg-shift4-sky-blue/30 transition-colors duration-300">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="currentColor" className="text-shift4-sky-blue ml-0.5"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                                            </div>
                                        </div>

                                        {/* Pass Builder */}
                                        <div className="relative overflow-hidden rounded-xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 px-6 py-6 group transition-all duration-300 hover:border-white/20">
                                            <div className="absolute -top-20 -right-20 w-40 h-40 bg-violet-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                            <div className="flex items-start gap-4">
                                                <div className="w-11 h-11 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-lg shadow-violet-500/25 flex-shrink-0 group-hover:scale-110 transition-all duration-300">
                                                    <Icons.PenTool className="w-5 h-5 text-white" />
                                                </div>
                                                <div className="flex-1">
                                                    <h3 className="text-xl font-bold text-white mb-1">Pass Builder + Insights</h3>
                                                    <p className="text-slate-200 text-base font-medium mb-1">Launch venue-branded passes in minutes.</p>
                                                    <p className="text-slate-400 text-sm leading-relaxed">Measure adoption and redemptions to optimize campaigns and benefits.</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Row 2: 2 Feature tiles */}
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                                        {/* Frictionless Payments */}
                                        <div onClick={() => setPassSlide(1)} className="relative overflow-hidden rounded-xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 px-6 py-6 group cursor-pointer transition-all duration-500 hover:border-emerald-500/40 hover:shadow-[0_0_40px_rgba(16,185,129,0.15)]">
                                            <div className="absolute -top-20 -right-20 w-40 h-40 bg-emerald-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                            <div className="flex items-start gap-4">
                                                <div className="w-11 h-11 rounded-lg bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center shadow-lg shadow-emerald-500/25 flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                                    <Icons.Zap className="w-5 h-5 text-white" />
                                                </div>
                                                <div className="flex-1">
                                                    <h3 className="text-xl font-bold text-white mb-1">Faster Checkout</h3>
                                                    <p className="text-slate-200 text-base font-medium mb-1">Apply discounts, stored value, and card-on-file automatically at checkout.</p>
                                                    <p className="text-slate-400 text-sm leading-relaxed">Fewer taps at the stand means faster lines and higher throughput.</p>
                                                </div>
                                            </div>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="absolute bottom-4 left-5 text-slate-500 opacity-40 group-hover:opacity-100 group-hover:text-emerald-400 group-hover:-translate-x-1 transition-all duration-300"><polyline points="15 18 9 12 15 6"></polyline></svg>
                                        </div>

                                        {/* Optimized Usability */}
                                        <div onClick={() => setPassSlide(0)} className="relative overflow-hidden rounded-xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 px-6 py-6 group cursor-pointer transition-all duration-500 hover:border-emerald-500/40 hover:shadow-[0_0_40px_rgba(16,185,129,0.15)]">
                                            <div className="absolute -top-20 -right-20 w-40 h-40 bg-emerald-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                            <div className="flex items-start gap-4">
                                                <div className="w-11 h-11 rounded-lg bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shadow-lg shadow-emerald-500/25 flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                                    <Icons.Smartphone className="w-5 h-5 text-white" />
                                                </div>
                                                <div className="flex-1">
                                                    <h3 className="text-xl font-bold text-white mb-1">Right Place, Right Time</h3>
                                                    <p className="text-slate-200 text-base font-medium mb-1">The pass appears automatically at arrival and in-venue moments.</p>
                                                    <p className="text-slate-400 text-sm leading-relaxed">Location-aware access with real-time balance and benefits.</p>
                                                </div>
                                            </div>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="absolute bottom-4 left-5 text-slate-500 opacity-40 group-hover:opacity-100 group-hover:text-emerald-400 group-hover:-translate-x-1 transition-all duration-300"><polyline points="15 18 9 12 15 6"></polyline></svg>
                                        </div>
                                    </div>

                                    {/* Row 3: 2 Notification tiles */}
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                                        {/* Campaign Notifications */}
                                        <div onClick={() => setPassSlide(5)} className="relative overflow-hidden rounded-xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 px-6 py-6 group cursor-pointer transition-all duration-500 hover:border-rose-500/40 hover:shadow-[0_0_40px_rgba(244,63,94,0.15)]">
                                            <div className="absolute -top-20 -right-20 w-40 h-40 bg-rose-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                            <div className="flex items-start gap-4">
                                                <div className="w-11 h-11 rounded-lg bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center shadow-lg shadow-rose-500/25 flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                                    <Icons.Gift className="w-5 h-5 text-white" />
                                                </div>
                                                <div className="flex-1">
                                                    <h3 className="text-xl font-bold text-white mb-1">Targeted Offers</h3>
                                                    <p className="text-slate-200 text-base font-medium mb-1">Trigger promotions by segment, event, and location.</p>
                                                    <p className="text-slate-400 text-sm leading-relaxed">Drive merch and concessions with timely rewards, upgrades, and reminders.</p>
                                                </div>
                                            </div>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="absolute bottom-4 left-5 text-slate-500 opacity-40 group-hover:opacity-100 group-hover:text-rose-400 group-hover:-translate-x-1 transition-all duration-300"><polyline points="15 18 9 12 15 6"></polyline></svg>
                                        </div>

                                        {/* Transactional Notifications */}
                                        <div onClick={() => setPassSlide(2)} className="relative overflow-hidden rounded-xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 px-6 py-6 group cursor-pointer transition-all duration-500 hover:border-rose-500/40 hover:shadow-[0_0_40px_rgba(244,63,94,0.15)]">
                                            <div className="absolute -top-20 -right-20 w-40 h-40 bg-rose-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                            <div className="flex items-start gap-4">
                                                <div className="w-11 h-11 rounded-lg bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center shadow-lg shadow-rose-500/25 flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                                    <Icons.FileText className="w-5 h-5 text-white" />
                                                </div>
                                                <div className="flex-1">
                                                    <h3 className="text-xl font-bold text-white mb-1">Real-Time Updates</h3>
                                                    <p className="text-slate-200 text-base font-medium mb-1">Keep guests informed with instant confirmations and balance changes.</p>
                                                    <p className="text-slate-400 text-sm leading-relaxed">Receipts, redemptions, credits, and expirations delivered automatically.</p>
                                                </div>
                                            </div>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="absolute bottom-4 left-5 text-slate-500 opacity-40 group-hover:opacity-100 group-hover:text-rose-400 group-hover:-translate-x-1 transition-all duration-300"><polyline points="15 18 9 12 15 6"></polyline></svg>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </section>

                    {/* SECTION 5: Integrations */}
                    <section id="integrations" aria-labelledby="integrations-heading" className="snap-start snap-always h-screen flex flex-col justify-start pt-10 bg-shift4-midnight-blue relative overflow-hidden isolate">
                        <div className="absolute top-0 left-1/2 -translate-x-1/2 w-[500px] h-[500px] bg-shift4-sky-blue/10 rounded-full blur-3xl pointer-events-none"></div>

                        <div className="container mx-auto px-6 relative z-10">
                            {/* Header */}
                            <div className="text-center mb-6">
                                <span className="text-shift4-sky-blue font-semibold tracking-[0.2em] uppercase text-xs mb-3 block">ECOSYSTEM</span>
                                <h2 id="integrations-heading" className="text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight">Integrations That Fit Your Venue</h2>
                                <p className="text-slate-300 max-w-2xl mx-auto text-base mb-6">
                                    Deploy anywhere with flexible integration paths and a growing partner ecosystem.
                                </p>
                                <div className="flex flex-wrap justify-center gap-3">
                                    <Badge>No rip-and-replace</Badge>
                                    <Badge>Flexible deployment</Badge>
                                    <Badge>Secure, tokenized identity</Badge>
                                </div>
                            </div>

                            {/* Top Row: 3-column grid - Core capabilities */}
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto mb-6">
                                {/* Card 1: Identity */}
                                <div className="relative overflow-hidden p-5 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-slate-500/40 hover:-translate-y-1 hover:shadow-2xl transition-all duration-300 group">
                                    <div className="absolute -top-20 -right-20 w-40 h-40 bg-cyan-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <div className="flex items-center gap-3 mb-3">
                                        <div className="rounded-xl bg-gradient-to-br from-shift4-sky-blue to-cyan-400 p-3 shadow-lg flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                            <Icons.BadgeCheck className="w-5 h-5 text-white" />
                                        </div>
                                        <h3 className="font-bold text-white text-lg">Identity + Entitlements</h3>
                                    </div>
                                    <ul className="text-slate-300 text-sm space-y-2">
                                        <li className="flex items-start"><Icons.CheckCircle className="w-4 h-4 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />Ticketing login for profiles and access (no new account required)</li>
                                        <li className="flex items-start"><Icons.CheckCircle className="w-4 h-4 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />Tokenized wallet identity for secure storage</li>
                                        <li className="flex items-start"><Icons.CheckCircle className="w-4 h-4 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />Automatically apply benefits from ticket attributes</li>
                                    </ul>
                                </div>

                                {/* Card 2: Deployment */}
                                <div className="relative overflow-hidden p-5 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-slate-500/40 hover:-translate-y-1 hover:shadow-2xl transition-all duration-300 group">
                                    <div className="absolute -top-20 -right-20 w-40 h-40 bg-violet-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <div className="flex items-center gap-3 mb-3">
                                        <div className="rounded-xl bg-gradient-to-br from-violet-500 to-purple-500 p-3 shadow-lg flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                            <Icons.MonitorSmartphone className="w-5 h-5 text-white" />
                                        </div>
                                        <h3 className="font-bold text-white text-lg">Deploy Your Way</h3>
                                    </div>
                                    <ul className="text-slate-300 text-sm space-y-2">
                                        <li className="flex items-start"><Icons.CheckCircle className="w-4 h-4 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />Hosted mobile web for fast rollout</li>
                                        <li className="flex items-start"><Icons.CheckCircle className="w-4 h-4 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />Native iOS/Android SDK for deeper integration</li>
                                        <li className="flex items-start"><Icons.CheckCircle className="w-4 h-4 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />SSO, deep links, and analytics support</li>
                                    </ul>
                                </div>

                                {/* Card 3: Payments */}
                                <div className="relative overflow-hidden p-5 rounded-2xl bg-gradient-to-br from-slate-800/80 to-slate-900/80 border border-white/10 hover:border-slate-500/40 hover:-translate-y-1 hover:shadow-2xl transition-all duration-300 group">
                                    <div className="absolute -top-20 -right-20 w-40 h-40 bg-emerald-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <div className="flex items-center gap-3 mb-3">
                                        <div className="rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 p-3 shadow-lg flex-shrink-0 group-hover:scale-110 transition-transform duration-300">
                                            <Icons.CreditCard className="w-5 h-5 text-white" />
                                        </div>
                                        <h3 className="font-bold text-white text-lg">Payments + Acceptance</h3>
                                    </div>
                                    <ul className="text-slate-300 text-sm space-y-2">
                                        <li className="flex items-start"><Icons.CheckCircle className="w-4 h-4 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />Stored value and card-on-file support</li>
                                        <li className="flex items-start"><Icons.CheckCircle className="w-4 h-4 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />Real-time transaction processing</li>
                                        <li className="flex items-start"><Icons.CheckCircle className="w-4 h-4 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />POS, kiosk, and mobile ordering</li>
                                        <li className="flex items-start"><Icons.CheckCircle className="w-4 h-4 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />Supports retail and autonomous experiences</li>
                                    </ul>
                                </div>
                            </div>

                            {/* Bottom Row: 4-column partner grid */}
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 max-w-6xl mx-auto">
                                {/* Ticketing Authentication */}
                                <div className="relative overflow-hidden p-4 rounded-xl bg-gradient-to-br from-slate-800/60 to-slate-900/60 border border-white/10 hover:border-slate-500/40 hover:-translate-y-1 transition-all duration-300 group">
                                    <div className="absolute -top-16 -right-16 w-32 h-32 bg-rose-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <div className="flex items-center gap-2 mb-2">
                                        <div className="rounded-md bg-gradient-to-br from-rose-500 to-pink-500 p-1.5 shadow-lg flex-shrink-0">
                                            <Icons.Lock className="w-3.5 h-3.5 text-white" />
                                        </div>
                                        <h4 className="font-semibold text-white text-sm">Ticketing Providers</h4>
                                    </div>
                                    <p className="text-slate-400 text-[11px] mb-2 leading-relaxed">Use existing ticketing for login and entitlements.</p>
                                    <div className="flex flex-wrap justify-center gap-1.5">
                                        <PartnerBadge accent="rose">Ticketmaster</PartnerBadge>
                                        <PartnerBadge accent="rose">SeatGeek</PartnerBadge>
                                        <PartnerBadge accent="rose">AXS</PartnerBadge>
                                        <PartnerBadge accent="rose">Tickets.com</PartnerBadge>
                                    </div>
                                </div>

                                {/* App Partners */}
                                <div className="relative overflow-hidden p-4 rounded-xl bg-gradient-to-br from-slate-800/60 to-slate-900/60 border border-white/10 hover:border-slate-500/40 hover:-translate-y-1 transition-all duration-300 group">
                                    <div className="absolute -top-16 -right-16 w-32 h-32 bg-orange-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <div className="flex items-center gap-2 mb-2">
                                        <div className="rounded-md bg-gradient-to-br from-orange-500 to-amber-500 p-1.5 shadow-lg flex-shrink-0">
                                            <Icons.Network className="w-3.5 h-3.5 text-white" />
                                        </div>
                                        <h4 className="font-semibold text-white text-sm">Venue Apps</h4>
                                    </div>
                                    <p className="text-slate-400 text-[11px] mb-2 leading-relaxed">Extend the pass into fan apps and ordering.</p>
                                    <div className="flex flex-wrap justify-center gap-1.5">
                                        <PartnerBadge accent="orange">Yinzcam</PartnerBadge>
                                        <PartnerBadge accent="orange">Fanreach</PartnerBadge>
                                        <PartnerBadge accent="orange">MLB Ballpark</PartnerBadge>
                                        <PartnerBadge accent="orange">Raw Engineering</PartnerBadge>
                                        <PartnerBadge accent="orange">Sidearm Sports</PartnerBadge>
                                    </div>
                                </div>

                                {/* POS Compatibility */}
                                <div className="relative overflow-hidden p-4 rounded-xl bg-gradient-to-br from-slate-800/60 to-slate-900/60 border border-white/10 hover:border-slate-500/40 hover:-translate-y-1 transition-all duration-300 group">
                                    <div className="absolute -top-16 -right-16 w-32 h-32 bg-blue-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <div className="flex items-center gap-2 mb-2">
                                        <div className="rounded-md bg-gradient-to-br from-shift4-sky-blue to-blue-600 p-1.5 shadow-lg flex-shrink-0">
                                            <Icons.Monitor className="w-3.5 h-3.5 text-white" />
                                        </div>
                                        <h4 className="font-semibold text-white text-sm">Commerce + POS</h4>
                                    </div>
                                    <p className="text-slate-400 text-[11px] mb-2 leading-relaxed">Accept benefits across revenue centers.</p>
                                    <div className="flex flex-wrap justify-center gap-1.5">
                                        <PartnerBadge accent="blue">SkyTab Venue</PartnerBadge>
                                        <PartnerBadge accent="blue">SkyTab POS</PartnerBadge>
                                        <PartnerBadge accent="blue">RetailCloud</PartnerBadge>
                                        <PartnerBadge accent="blue">Retail Pro</PartnerBadge>
                                        <PartnerBadge accent="blue">Tapin2</PartnerBadge>
                                        <PartnerBadge accent="blue">Fanatics</PartnerBadge>
                                        <PartnerBadge accent="blue">NetSuite</PartnerBadge>
                                    </div>
                                </div>

                                {/* Self-Service */}
                                <div className="relative overflow-hidden p-4 rounded-xl bg-gradient-to-br from-slate-800/60 to-slate-900/60 border border-white/10 hover:border-slate-500/40 hover:-translate-y-1 transition-all duration-300 group">
                                    <div className="absolute -top-16 -right-16 w-32 h-32 bg-teal-500/20 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <div className="flex items-center gap-2 mb-2">
                                        <div className="rounded-md bg-gradient-to-br from-teal-500 to-cyan-500 p-1.5 shadow-lg flex-shrink-0">
                                            <Icons.ShoppingCart className="w-3.5 h-3.5 text-white" />
                                        </div>
                                        <h4 className="font-semibold text-white text-sm">Autonomous Retail</h4>
                                    </div>
                                    <p className="text-slate-400 text-[11px] mb-2 leading-relaxed">Speed lines with unattended experiences.</p>
                                    <div className="flex flex-wrap justify-center gap-1.5">
                                        <PartnerBadge accent="teal">Amazon Just Walk Out</PartnerBadge>
                                        <PartnerBadge accent="teal">AiFi</PartnerBadge>
                                    </div>
                                    <div className="flex flex-wrap justify-center gap-1.5 mt-1.5">
                                        <PartnerBadge accent="teal">Mashgin</PartnerBadge>
                                        <PartnerBadge accent="teal">Zippin</PartnerBadge>
                                        <PartnerBadge accent="teal">VisioLab</PartnerBadge>
                                    </div>
                                </div>
                            </div>

                            {/* Amazon JWO Spotlight */}
                            <div className="flex justify-center mt-4">
                                <div className="relative overflow-hidden rounded-xl bg-gradient-to-br from-slate-800/60 to-slate-900/60 border border-white/10 hover:border-teal-500/30 transition-all duration-300 group">
                                    {/* Featured Badge */}
                                    <div className="absolute top-0 left-0 px-2 py-0.5 bg-teal-500/20 border-b border-r border-teal-400/30 rounded-br-lg text-[9px] font-semibold text-teal-300 uppercase tracking-wide">
                                        Featured Integration
                                    </div>

                                    <div className="relative z-10 flex items-center gap-4 pl-4 pr-3 pt-5 pb-3">
                                        {/* Icon */}
                                        <div className="rounded-md bg-gradient-to-br from-teal-500 to-cyan-500 p-1.5 shadow-lg flex-shrink-0">
                                            <Icons.ShoppingCart className="w-3.5 h-3.5 text-white" />
                                        </div>

                                        {/* Title + Description + Features */}
                                        <div className="flex-shrink-0">
                                            <h4 className="font-semibold text-white text-sm">Amazon Just Walk Out + Wallet</h4>
                                            <p className="text-slate-400 text-[10px] mb-1">Frictionless entry and exit with entitlements applied automatically.</p>
                                            <div className="flex gap-x-3 text-[9px] text-slate-300">
                                                <span className="flex items-center"><Icons.CheckCircle className="w-2.5 h-2.5 text-cyan-400 mr-0.5 flex-shrink-0" />QR entry + pre-auth</span>
                                                <span className="flex items-center"><Icons.CheckCircle className="w-2.5 h-2.5 text-cyan-400 mr-0.5 flex-shrink-0" />Auto benefits</span>
                                                <span className="flex items-center"><Icons.CheckCircle className="w-2.5 h-2.5 text-cyan-400 mr-0.5 flex-shrink-0" />No checkout</span>
                                            </div>
                                        </div>

                                        {/* CTA */}
                                        <button
                                            onClick={() => setJwoDrawerOpen(true)}
                                            className="flex-shrink-0 inline-flex items-center gap-1 px-2.5 py-1 rounded-md bg-teal-500/10 border border-teal-400/30 text-[9px] font-medium text-teal-300 hover:bg-teal-500/20 hover:text-teal-200 transition-all group/cta"
                                            aria-label="View how Amazon Just Walk Out integration works"
                                        >
                                            How it works
                                            <svg xmlns="http://www.w3.org/2000/svg" width="9" height="9" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="group-hover/cta:translate-x-0.5 transition-transform"><polyline points="9 18 15 12 9 6"></polyline></svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* SECTION 6: Unified Platform */}
                    <section id="unified-platform" aria-labelledby="unified-platform-heading" className="snap-start snap-always h-screen flex items-center justify-center bg-shift4-midnight-blue relative overflow-hidden isolate">
                        {/* Background Effects */}
                        <div className="absolute inset-0 overflow-hidden pointer-events-none">
                            <div className="absolute top-1/2 left-1/4 -translate-y-1/2 w-[400px] h-[400px] bg-shift4-sky-blue/10 rounded-full blur-3xl"></div>
                            <div className="absolute bottom-1/4 right-1/4 w-[300px] h-[300px] bg-violet-500/10 rounded-full blur-3xl"></div>
                        </div>

                        <div className="container mx-auto px-6 relative z-10">
                            {/* Header */}
                            <div className="text-center mb-6">
                                <span className="text-shift4-sky-blue font-semibold tracking-[0.2em] uppercase text-xs mb-2 block">SkyTab Venue Suite</span>
                                <h2 id="unified-platform-heading" className="text-4xl md:text-5xl font-bold text-white mb-3 tracking-tight">One Unified Platform to Manage it All</h2>
                                <p className="text-slate-300 max-w-2xl mx-auto text-sm leading-relaxed">
                                    Powerful web applications to manage menus, loyalty programs, and analyticsall from a single dashboard.
                                </p>
                            </div>

                            {/* Tab Navigation */}
                            <div className="flex justify-center mb-6">
                                <div className="inline-flex items-center gap-2 p-1.5 rounded-xl bg-white/5 border border-white/10 backdrop-blur-md">
                                    {[
                                        { id: 'loyalty-app', label: 'Loyalty App', icon: Icons.Heart },
                                        { id: 'datanow', label: 'DataNow', icon: Icons.Activity }
                                    ].map((tab) => (
                                        <button
                                            key={tab.id}
                                            onClick={() => setActiveTab(tab.id)}
                                            className={`flex items-center gap-2 px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${
                                                activeTab === tab.id
                                                    ? 'bg-shift4-sky-blue text-white shadow-lg shadow-shift4-sky-blue/30'
                                                    : 'text-slate-400 hover:text-white hover:bg-white/5'
                                            }`}
                                        >
                                            <tab.icon className="w-4 h-4" />
                                            {tab.label}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {/* Tab Content */}
                            <div className="max-w-7xl mx-auto">
                                <div className="flex flex-col lg:flex-row items-center gap-6">
                                    {/* Left: Capabilities */}
                                    <div className="w-full lg:w-1/3 space-y-3">
                                        {activeTab === 'loyalty-app' && (
                                            <div className="space-y-2 animate-fade-in">
                                                {[
                                                    { icon: Icons.Users, title: 'Member & Account Management', desc: 'Search, view, and manage member profiles with fast lookup and clean account detail views', category: 'accounts', tabIndex: 0, activeIndices: [0] },
                                                    { icon: Icons.CircleDollarSign, title: 'Account Actions and History', desc: 'View balances and transaction history, adjust stored value, assign affiliations, and apply promotions for a single member in seconds', category: 'accounts', tabIndex: 1, activeIndices: [1, 2] },
                                                    { icon: Icons.FileText, title: 'Bulk Operations via CSV', desc: 'Make mass updates in minutes: bulk stored value adjustments, affiliation assignment, and promotion awarding', category: 'accounts', tabIndex: 3, activeIndices: [3] },
                                                    { icon: Icons.BadgeCheck, title: 'Affiliations and Tier Setup', desc: 'Define tiers, ranks, and badge styling for your program', category: 'affiliations', tabIndex: 0, activeIndices: [0, 1] },
                                                    { icon: Icons.Smartphone, title: 'Digital Passes & Analytics', desc: 'Issue and manage Apple Wallet and Google Wallet passes, track activations and engagement', category: 'passes', tabIndex: 0, activeIndices: [0, 1] },
                                                    { icon: Icons.MapPin, title: 'Campaigns & Location Targeting', desc: 'Launch targeted campaigns with segmentation, notifications, and geofence-triggered experiences', category: 'passes', tabIndex: 3, activeIndices: [2, 3] }
                                                ].map((item, i) => {
                                                    const isActive = activeLoyaltyCategory === item.category && item.activeIndices.includes(activeBrowserTab['loyalty-app'][item.category]);
                                                    return (
                                                        <button
                                                            key={i}
                                                            onClick={() => {
                                                                setActiveLoyaltyCategory(item.category);
                                                                setActiveBrowserTab(prev => ({
                                                                    ...prev,
                                                                    'loyalty-app': { ...prev['loyalty-app'], [item.category]: item.tabIndex }
                                                                }));
                                                            }}
                                                            className={`w-full flex items-start gap-3 p-3 rounded-xl border transition-all duration-200 text-left ${
                                                                isActive
                                                                    ? 'bg-violet-500/20 border-violet-500/50 shadow-lg shadow-violet-500/10'
                                                                    : 'bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20'
                                                            }`}
                                                        >
                                                            <div className={`w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0 ${
                                                                isActive ? 'bg-violet-500/30' : 'bg-violet-500/20'
                                                            }`}>
                                                                <item.icon className={`w-4 h-4 ${isActive ? 'text-violet-300' : 'text-violet-400'}`} />
                                                            </div>
                                                            <div className="min-w-0">
                                                                <h4 className={`font-semibold text-sm leading-tight ${isActive ? 'text-violet-200' : 'text-white'}`}>{item.title}</h4>
                                                                <p className={`text-xs mt-0.5 leading-snug ${isActive ? 'text-violet-300/80' : 'text-slate-400'}`}>{item.desc}</p>
                                                            </div>
                                                        </button>
                                                    );
                                                })}
                                            </div>
                                        )}
                                        {activeTab === 'datanow' && (
                                            <div className="space-y-3 animate-fade-in">
                                                {[
                                                    { icon: Icons.CircleDollarSign, title: 'Virtual Currency KPIs', desc: 'Monitor outstanding VC, utilization, origination, and pending expirations.', tabIndex: 0 },
                                                    { icon: Icons.RefreshCw, title: 'Transfers and Account Health', desc: 'Track transfers end to end and flag duplicate accounts and emails.', tabIndex: 1 },
                                                    { icon: Icons.ShieldCheck, title: 'Admin and Bulk Audit', desc: 'Audit awards and deductions by user, domain, campaign, and comment.', tabIndex: 2 },
                                                    { icon: Icons.Wallet, title: 'Wallet Account Insights', desc: 'Analyze wallet-engaged accounts, balances, issued awards, and active rules.', tabIndex: 3 }
                                                ].map((item, i) => {
                                                    const isActive = activeBrowserTab['datanow'] === item.tabIndex;
                                                    return (
                                                        <button
                                                            key={i}
                                                            onClick={() => setTabForSection('datanow', item.tabIndex)}
                                                            className={`w-full flex items-start gap-4 p-4 rounded-xl border transition-all duration-200 text-left ${
                                                                isActive
                                                                    ? 'bg-emerald-500/20 border-emerald-500/40'
                                                                    : 'bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20'
                                                            }`}
                                                        >
                                                            <div className={`w-11 h-11 rounded-lg flex items-center justify-center flex-shrink-0 ${
                                                                isActive ? 'bg-emerald-500/30' : 'bg-emerald-500/20'
                                                            }`}>
                                                                <item.icon className="w-5 h-5 text-emerald-400" />
                                                            </div>
                                                            <div>
                                                                <h4 className={`font-semibold text-base ${isActive ? 'text-emerald-200' : 'text-white'}`}>{item.title}</h4>
                                                                <p className={`text-sm ${isActive ? 'text-emerald-300/80' : 'text-slate-400'}`}>{item.desc}</p>
                                                            </div>
                                                        </button>
                                                    );
                                                })}
                                            </div>
                                        )}
                                    </div>

                                    {/* Right: Browser Mockup */}
                                    <div className="w-full lg:w-2/3">
                                        <div className="transform hover:scale-[1.02] transition-transform duration-300">
                                            <BrowserPane
                                                activeTab={activeTab}
                                                browserTabs={browserTabs}
                                                activeLoyaltyCategory={activeLoyaltyCategory}
                                                activeBrowserTab={activeBrowserTab}
                                                onTabChange={setTabForSection}
                                                onCategoryChange={setActiveLoyaltyCategory}
                                                getCurrentTabData={getCurrentTabData}
                                                getTabsArray={getTabsArray}
                                                onExpand={() => setExpandedTab(activeTab)}
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </section>


                    {/* Expanded Browser Modal */}
                    {expandedTab && (
                        <div
                            className="fixed inset-0 z-[100] flex items-center justify-center p-8"
                            onClick={() => setExpandedTab(null)}
                        >
                            {/* Backdrop */}
                            <div className="absolute inset-0 bg-black/80 backdrop-blur-sm"></div>

                            {/* Modal Container */}
                            <div
                                className="relative w-full max-w-6xl animate-modal-in"
                                onClick={(e) => e.stopPropagation()}
                            >
                                {/* Translucent border glow effect */}
                                <div className="absolute -inset-1 bg-gradient-to-r from-shift4-sky-blue/20 via-white/10 to-violet-500/20 rounded-2xl blur-sm"></div>

                                {/* Browser Frame */}
                                <div className="relative">
                                    <BrowserPane
                                        activeTab={expandedTab}
                                        browserTabs={browserTabs}
                                        activeLoyaltyCategory={activeLoyaltyCategory}
                                        activeBrowserTab={activeBrowserTab}
                                        onTabChange={setTabForSection}
                                        onCategoryChange={setActiveLoyaltyCategory}
                                        getCurrentTabData={getCurrentTabData}
                                        getTabsArray={getTabsArray}
                                        onClose={() => setExpandedTab(null)}
                                        isExpanded={true}
                                    />
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Video Modal for Apple & Google Wallet */}
                    {showWalletVideo && (
                        <div
                            className="fixed inset-0 z-[100] flex items-center justify-center p-6"
                            onClick={() => setShowWalletVideo(false)}
                        >
                            {/* Backdrop */}
                            <div className="absolute inset-0 bg-black/70 backdrop-blur-sm"></div>

                            {/* Modal Container */}
                            <div
                                className="relative w-full max-w-4xl animate-modal-in"
                                onClick={(e) => e.stopPropagation()}
                            >
                                {/* Glow effect */}
                                <div className="absolute -inset-1 bg-gradient-to-r from-shift4-sky-blue/20 via-cyan-500/10 to-shift4-sky-blue/20 rounded-2xl blur-sm"></div>

                                <div className="relative bg-gradient-to-br from-slate-900 to-slate-950 rounded-2xl border border-white/10 shadow-2xl overflow-hidden">
                                    {/* Modal Header */}
                                    <div className="relative flex items-center justify-center px-6 py-4 border-b border-white/10">
                                        <div className="flex items-center gap-3">
                                            <div className="rounded-lg bg-gradient-to-br from-shift4-sky-blue to-cyan-400 p-2 shadow-lg">
                                                <Icons.Wallet className="w-4 h-4 text-white" />
                                            </div>
                                            <h2 className="text-lg font-bold text-white">Adding the Wallet Pass to Apple Wallet</h2>
                                        </div>
                                        <button
                                            onClick={() => setShowWalletVideo(false)}
                                            className="absolute right-4 p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors"
                                            aria-label="Close modal"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
                                        </button>
                                    </div>

                                    {/* Modal Content */}
                                    <div className="flex flex-col">
                                        {/* Steps Bar */}
                                        <div className="px-6 py-4 border-b border-white/10 bg-gradient-to-r from-slate-900/80 to-slate-800/80">
                                            <div className="flex items-center justify-center gap-2 md:gap-4 flex-wrap">
                                                {/* Step 1 */}
                                                <div className={`flex items-center gap-2 transition-all duration-300 ${activeWalletStep === 1 ? 'scale-110' : 'opacity-50'}`}>
                                                    <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activeWalletStep === 1 ? 'bg-shift4-sky-blue text-white shadow-lg shadow-shift4-sky-blue/50' : 'bg-shift4-sky-blue/20 text-shift4-sky-blue'}`}>1</div>
                                                    <span className={`text-xs font-semibold transition-all duration-300 ${activeWalletStep === 1 ? 'text-cyan-400' : 'text-white'}`}>Login</span>
                                                </div>
                                                <svg className={`w-4 h-4 transition-colors duration-300 ${activeWalletStep >= 2 ? 'text-shift4-sky-blue' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                {/* Step 2 */}
                                                <div className={`flex items-center gap-2 transition-all duration-300 ${activeWalletStep === 2 ? 'scale-110' : 'opacity-50'}`}>
                                                    <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activeWalletStep === 2 ? 'bg-shift4-sky-blue text-white shadow-lg shadow-shift4-sky-blue/50' : 'bg-shift4-sky-blue/20 text-shift4-sky-blue'}`}>2</div>
                                                    <span className={`text-xs font-semibold transition-all duration-300 ${activeWalletStep === 2 ? 'text-cyan-400' : 'text-white'}`}>Open My Wallet</span>
                                                </div>
                                                <svg className={`w-4 h-4 transition-colors duration-300 ${activeWalletStep >= 3 ? 'text-shift4-sky-blue' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                {/* Step 3 */}
                                                <div className={`flex items-center gap-2 transition-all duration-300 ${activeWalletStep === 3 ? 'scale-110' : 'opacity-50'}`}>
                                                    <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activeWalletStep === 3 ? 'bg-shift4-sky-blue text-white shadow-lg shadow-shift4-sky-blue/50' : 'bg-shift4-sky-blue/20 text-shift4-sky-blue'}`}>3</div>
                                                    <span className={`text-xs font-semibold transition-all duration-300 ${activeWalletStep === 3 ? 'text-cyan-400' : 'text-white'}`}>Open QR Code Pay</span>
                                                </div>
                                                <svg className={`w-4 h-4 transition-colors duration-300 ${activeWalletStep >= 4 ? 'text-shift4-sky-blue' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                {/* Step 4 */}
                                                <div className={`flex items-center gap-2 transition-all duration-300 ${activeWalletStep === 4 ? 'scale-110' : 'opacity-50'}`}>
                                                    <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activeWalletStep === 4 ? 'bg-shift4-sky-blue text-white shadow-lg shadow-shift4-sky-blue/50' : 'bg-shift4-sky-blue/20 text-shift4-sky-blue'}`}>4</div>
                                                    <span className={`text-xs font-semibold transition-all duration-300 ${activeWalletStep === 4 ? 'text-cyan-400' : 'text-white'}`}>Add Pass</span>
                                                </div>
                                                <svg className={`w-4 h-4 transition-colors duration-300 ${activeWalletStep >= 5 ? 'text-shift4-sky-blue' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                {/* Step 5 */}
                                                <div className={`flex items-center gap-2 transition-all duration-300 ${activeWalletStep === 5 ? 'scale-110' : 'opacity-50'}`}>
                                                    <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activeWalletStep === 5 ? 'bg-shift4-sky-blue text-white shadow-lg shadow-shift4-sky-blue/50' : 'bg-shift4-sky-blue/20 text-shift4-sky-blue'}`}>5</div>
                                                    <span className={`text-xs font-semibold transition-all duration-300 ${activeWalletStep === 5 ? 'text-cyan-400' : 'text-white'}`}>Open Apple Wallet</span>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Video Content */}
                                        <div className="flex-1 flex items-center justify-center py-8 bg-gradient-to-br from-slate-900/50 to-slate-950/50">
                                            <div className="flex flex-col items-center">
                                                {/* iPhone Frame with Video */}
                                                <div className="relative bg-black rounded-[3rem] border-[8px] border-slate-800 shadow-2xl overflow-hidden p-1" style={{ width: '300px', height: '650px' }}>
                                                    {/* Dynamic Island */}
                                                    <div className="absolute top-3 left-1/2 -translate-x-1/2 w-24 h-7 bg-black rounded-full z-10"></div>
                                                    {/* Video with inner rounded container */}
                                                    <div className="w-full h-full rounded-[2.5rem] overflow-hidden">
                                                        <video
                                                            ref={walletVideoRef}
                                                            controls
                                                            autoPlay
                                                            muted
                                                            loop
                                                            playsInline
                                                            className="w-full h-full object-cover"
                                                        >
                                                            <source src="../site/wallet-pass-add.mp4" type="video/mp4" />
                                                        </video>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Amazon JWO Modal */}
                    {jwoDrawerOpen && (
                        <div
                            className="fixed inset-0 z-[100] flex items-center justify-center p-6"
                            onClick={() => setJwoDrawerOpen(false)}
                        >
                            {/* Backdrop */}
                            <div className="absolute inset-0 bg-black/70 backdrop-blur-sm"></div>

                            {/* Modal Container */}
                            <div
                                className="relative w-full max-w-4xl animate-modal-in"
                                onClick={(e) => e.stopPropagation()}
                            >
                                {/* Glow effect */}
                                <div className="absolute -inset-1 bg-gradient-to-r from-teal-500/20 via-cyan-500/10 to-teal-500/20 rounded-2xl blur-sm"></div>

                                <div className="relative bg-gradient-to-br from-slate-900 to-slate-950 rounded-2xl border border-white/10 shadow-2xl overflow-hidden">
                                    {/* Modal Header */}
                                    <div className="relative flex items-center justify-center px-6 py-4 border-b border-white/10">
                                        <div className="flex items-center gap-3">
                                            <div className="rounded-lg bg-gradient-to-br from-teal-500 to-cyan-500 p-2 shadow-lg">
                                                <Icons.ShoppingCart className="w-4 h-4 text-white" />
                                            </div>
                                            <h2 className="text-lg font-bold text-white">How Amazon JWO + Wallet Works</h2>
                                        </div>
                                        <button
                                            onClick={() => setJwoDrawerOpen(false)}
                                            className="absolute right-4 p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors"
                                            aria-label="Close modal"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
                                        </button>
                                    </div>

                                    {/* Modal Content - Two Panes */}
                                    <div className="flex flex-col md:flex-row">
                                        {/* Left Pane - How it works */}
                                        <div className="flex-1 p-6 space-y-5">
                                            {/* Setup Section */}
                                            <div>
                                                <div className="flex items-center gap-2 mb-2">
                                                    <div className="w-5 h-5 rounded-full bg-teal-500/20 flex items-center justify-center text-teal-400 text-[10px] font-bold">1</div>
                                                    <h3 className="text-xs font-semibold text-white uppercase tracking-wide">Setup</h3>
                                                </div>
                                                <ul className="space-y-1.5 pl-7">
                                                    <li className="flex items-start text-slate-300 text-sm">
                                                        <Icons.CheckCircle className="w-3.5 h-3.5 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />
                                                        <span>Configure a customizable pre-auth amount</span>
                                                    </li>
                                                </ul>
                                            </div>

                                            {/* Entry Section */}
                                            <div>
                                                <div className="flex items-center gap-2 mb-2">
                                                    <div className="w-5 h-5 rounded-full bg-teal-500/20 flex items-center justify-center text-teal-400 text-[10px] font-bold">2</div>
                                                    <h3 className="text-xs font-semibold text-white uppercase tracking-wide">Entry</h3>
                                                </div>
                                                <ul className="space-y-1.5 pl-7">
                                                    <li className="flex items-start text-slate-300 text-sm">
                                                        <Icons.CheckCircle className="w-3.5 h-3.5 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />
                                                        <span>Fan scans STV Wallet QR code at entrance</span>
                                                    </li>
                                                    <li className="flex items-start text-slate-300 text-sm">
                                                        <Icons.CheckCircle className="w-3.5 h-3.5 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />
                                                        <span>Tokenized credit card is pre-authorized</span>
                                                    </li>
                                                </ul>
                                            </div>

                                            {/* Exit + Settlement Section */}
                                            <div>
                                                <div className="flex items-center gap-2 mb-2">
                                                    <div className="w-5 h-5 rounded-full bg-teal-500/20 flex items-center justify-center text-teal-400 text-[10px] font-bold">3</div>
                                                    <h3 className="text-xs font-semibold text-white uppercase tracking-wide">Exit + Settlement</h3>
                                                </div>
                                                <ul className="space-y-1.5 pl-7">
                                                    <li className="flex items-start text-slate-300 text-sm">
                                                        <Icons.CheckCircle className="w-3.5 h-3.5 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />
                                                        <span>Amazon sends purchased SKUs to STV</span>
                                                    </li>
                                                    <li className="flex items-start text-slate-300 text-sm">
                                                        <Icons.CheckCircle className="w-3.5 h-3.5 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />
                                                        <span>STV calculates the basket</span>
                                                    </li>
                                                    <li className="flex items-start text-slate-300 text-sm">
                                                        <Icons.CheckCircle className="w-3.5 h-3.5 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />
                                                        <span>Discounts and stored value applied automatically</span>
                                                    </li>
                                                    <li className="flex items-start text-slate-300 text-sm">
                                                        <Icons.CheckCircle className="w-3.5 h-3.5 text-cyan-400 mr-2 mt-0.5 flex-shrink-0" />
                                                        <span>Remaining amount charged to fan's card</span>
                                                    </li>
                                                </ul>
                                            </div>

                                            {/* Footer note */}
                                            <div className="pt-3 border-t border-white/10">
                                                <p className="text-slate-500 text-xs">
                                                    Seamless checkout with no additional fan interaction required
                                                </p>
                                            </div>
                                        </div>

                                        {/* Right Pane - Image */}
                                        <div className="flex-1 bg-gradient-to-br from-slate-800/50 to-slate-900/50 border-t md:border-t-0 md:border-l border-white/10 p-6 flex items-center justify-center">
                                            <div className="relative w-full max-w-sm rounded-xl overflow-hidden border border-white/10 shadow-xl">
                                                <img
                                                    src="../site/amazon-jwo-redemption.png"
                                                    alt="Amazon Just Walk Out redemption flow"
                                                    className="w-full h-auto"
                                                    onError={(e) => {
                                                        e.target.style.display = 'none';
                                                        e.target.nextSibling.style.display = 'flex';
                                                    }}
                                                />
                                                {/* Placeholder fallback */}
                                                <div className="hidden aspect-[4/3] items-center justify-center bg-gradient-to-br from-teal-900/30 to-cyan-900/30">
                                                    <div className="text-center p-6">
                                                        <Icons.ShoppingCart className="w-16 h-16 text-teal-500/50 mx-auto mb-3" />
                                                        <p className="text-slate-400 text-sm font-medium">Redemption Flow</p>
                                                        <p className="text-slate-500 text-xs mt-1">amazon-jwo-redemption.png</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Redemption Methods Modal */}
                    {redemptionMethodsOpen && (
                        <div
                            className="fixed inset-0 z-[100] flex items-center justify-center p-6"
                            onClick={() => setRedemptionMethodsOpen(false)}
                        >
                            {/* Backdrop */}
                            <div className="absolute inset-0 bg-black/80 backdrop-blur-md"></div>

                            {/* Modal Container */}
                            <div
                                className="relative w-full max-w-7xl animate-modal-in"
                                onClick={(e) => e.stopPropagation()}
                            >
                                {/* Glow effect */}
                                <div className="absolute -inset-1 bg-gradient-to-r from-orange-500/20 via-amber-500/10 to-orange-500/20 rounded-2xl blur-sm"></div>

                                <div className="relative bg-gradient-to-br from-slate-900 to-slate-950 rounded-2xl border border-white/10 shadow-2xl overflow-hidden">
                                    {/* Modal Header */}
                                    <div className="relative flex items-center justify-center px-6 py-4 border-b border-white/10">
                                        <div className="flex items-center gap-4">
                                            <div className="flex items-center gap-3">
                                                <div className="rounded-lg bg-gradient-to-br from-orange-500 to-amber-500 p-2 shadow-lg">
                                                    <Icons.ShoppingCart className="w-4 h-4 text-white" />
                                                </div>
                                                <h2 className="text-lg font-bold text-white">Redemption Methods</h2>
                                            </div>

                                            {/* Tab Buttons */}
                                            <div className="flex items-center bg-slate-800/60 rounded-lg p-1 border border-white/5">
                                                <button
                                                    onClick={() => setRedemptionTab('pos')}
                                                    className={`px-4 py-1.5 text-xs font-semibold rounded-md transition-all duration-200 ${
                                                        redemptionTab === 'pos'
                                                            ? 'bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-lg'
                                                            : 'text-slate-400 hover:text-white hover:bg-white/5'
                                                    }`}
                                                >
                                                    POS Redemption
                                                </button>
                                                <button
                                                    onClick={() => setRedemptionTab('mobile')}
                                                    className={`px-4 py-1.5 text-xs font-semibold rounded-md transition-all duration-200 ${
                                                        redemptionTab === 'mobile'
                                                            ? 'bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-lg'
                                                            : 'text-slate-400 hover:text-white hover:bg-white/5'
                                                    }`}
                                                >
                                                    Mobile Redemption
                                                </button>
                                            </div>
                                        </div>
                                        <button
                                            onClick={() => setRedemptionMethodsOpen(false)}
                                            className="absolute right-4 p-2 rounded-lg text-slate-400 hover:text-white hover:bg-white/10 transition-colors"
                                            aria-label="Close modal"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
                                        </button>
                                    </div>

                                    {/* Modal Content */}
                                    <div className="min-h-[500px]">
                                        {/* POS Redemption Tab */}
                                        {redemptionTab === 'pos' && (
                                            <div className="flex flex-col h-full">
                                                {/* Steps Bar */}
                                                <div className="px-6 py-4 border-b border-white/10 bg-gradient-to-r from-slate-900/80 to-slate-800/80">
                                                    <div className="flex items-center justify-center gap-3 md:gap-6 flex-wrap">
                                                        {/* Step 1 */}
                                                        <div className={`flex items-center gap-2 transition-all duration-300 ${activePosStep === 1 ? 'scale-110' : 'opacity-50'}`}>
                                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activePosStep === 1 ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/50' : 'bg-orange-500/20 text-orange-400'}`}>1</div>
                                                            <span className={`text-xs font-semibold transition-all duration-300 ${activePosStep === 1 ? 'text-orange-400' : 'text-white'}`}>Ring Up Order</span>
                                                        </div>
                                                        <svg className={`w-4 h-4 transition-colors duration-300 ${activePosStep >= 2 ? 'text-orange-500' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                        {/* Step 2 */}
                                                        <div className={`flex items-center gap-2 transition-all duration-300 ${activePosStep === 2 ? 'scale-110' : activePosStep > 2 ? 'opacity-50' : 'opacity-50'}`}>
                                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activePosStep === 2 ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/50' : 'bg-orange-500/20 text-orange-400'}`}>2</div>
                                                            <span className={`text-xs font-semibold transition-all duration-300 ${activePosStep === 2 ? 'text-orange-400' : 'text-white'}`}>Tap QR Pay</span>
                                                        </div>
                                                        <svg className={`w-4 h-4 transition-colors duration-300 ${activePosStep >= 3 ? 'text-orange-500' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                        {/* Step 3 */}
                                                        <div className={`flex items-center gap-2 transition-all duration-300 ${activePosStep === 3 ? 'scale-110' : activePosStep > 3 ? 'opacity-50' : 'opacity-50'}`}>
                                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activePosStep === 3 ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/50' : 'bg-orange-500/20 text-orange-400'}`}>3</div>
                                                            <span className={`text-xs font-semibold transition-all duration-300 ${activePosStep === 3 ? 'text-orange-400' : 'text-white'}`}>Scan Pass</span>
                                                        </div>
                                                        <svg className={`w-4 h-4 transition-colors duration-300 ${activePosStep >= 4 ? 'text-orange-500' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                        {/* Step 4 */}
                                                        <div className={`flex items-center gap-2 transition-all duration-300 ${activePosStep === 4 ? 'scale-110' : 'opacity-50'}`}>
                                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activePosStep === 4 ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/50' : 'bg-orange-500/20 text-orange-400'}`}>4</div>
                                                            <span className={`text-xs font-semibold transition-all duration-300 ${activePosStep === 4 ? 'text-orange-400' : 'text-white'}`}>Complete</span>
                                                        </div>
                                                    </div>
                                                </div>

                                                {/* Video and Carousel Row */}
                                                <div className="flex flex-col md:flex-row flex-1">
                                                    {/* Left Pane - Video (larger) */}
                                                    <div className="flex-[4] p-4 flex items-center justify-center bg-gradient-to-br from-slate-900/50 to-slate-950/50">
                                                    <div className="w-full max-w-5xl">
                                                        <div className="rounded-xl overflow-hidden border border-white/10 shadow-2xl bg-black">
                                                            <video
                                                                ref={posVideoRef}
                                                                autoPlay
                                                                muted
                                                                loop
                                                                playsInline
                                                                controls
                                                                className="w-full h-auto"
                                                            >
                                                                <source src="../site/POS-Wallet.mp4" type="video/mp4" />
                                                                Your browser does not support the video tag.
                                                            </video>
                                                        </div>
                                                        <p className="text-center text-slate-500 text-xs mt-3">POS terminal scanning wallet QR code</p>
                                                    </div>
                                                </div>

                                                    {/* Right Pane - iPhone Carousel (smaller) */}
                                                    <div className="flex-[1] bg-gradient-to-br from-slate-800/30 to-slate-900/30 border-t md:border-t-0 md:border-l border-white/10 p-4 flex items-center justify-center">
                                                        <PhoneCarousel
                                                            images={[
                                                                { src: '../site/Pass.PNG', alt: 'Wallet Pass showing QR code' },
                                                                { src: '../site/Noti-Wallet.PNG', alt: 'Wallet notification after redemption' }
                                                            ]}
                                                            size="default"
                                                        />
                                                    </div>
                                                </div>
                                            </div>
                                        )}

                                        {/* Mobile Redemption Tab */}
                                        {redemptionTab === 'mobile' && (
                                            <div className="flex flex-col h-full">
                                                {/* Steps Bar */}
                                                <div className="px-6 py-4 border-b border-white/10 bg-gradient-to-r from-slate-900/80 to-slate-800/80">
                                                    <div className="flex items-center justify-center gap-2 md:gap-4 flex-wrap">
                                                        {/* Step 1 */}
                                                        <div className={`flex items-center gap-2 transition-all duration-300 ${activeMobileStep === 1 ? 'scale-110' : 'opacity-50'}`}>
                                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activeMobileStep === 1 ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/50' : 'bg-orange-500/20 text-orange-400'}`}>1</div>
                                                            <span className={`text-xs font-semibold transition-all duration-300 ${activeMobileStep === 1 ? 'text-orange-400' : 'text-white'}`}>Log In</span>
                                                        </div>
                                                        <svg className={`w-4 h-4 transition-colors duration-300 ${activeMobileStep >= 2 ? 'text-orange-500' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                        {/* Step 2 */}
                                                        <div className={`flex items-center gap-2 transition-all duration-300 ${activeMobileStep === 2 ? 'scale-110' : 'opacity-50'}`}>
                                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activeMobileStep === 2 ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/50' : 'bg-orange-500/20 text-orange-400'}`}>2</div>
                                                            <span className={`text-xs font-semibold transition-all duration-300 ${activeMobileStep === 2 ? 'text-orange-400' : 'text-white'}`}>Open My Wallet</span>
                                                        </div>
                                                        <svg className={`w-4 h-4 transition-colors duration-300 ${activeMobileStep >= 3 ? 'text-orange-500' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                        {/* Step 3 */}
                                                        <div className={`flex items-center gap-2 transition-all duration-300 ${activeMobileStep === 3 ? 'scale-110' : 'opacity-50'}`}>
                                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activeMobileStep === 3 ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/50' : 'bg-orange-500/20 text-orange-400'}`}>3</div>
                                                            <span className={`text-xs font-semibold transition-all duration-300 ${activeMobileStep === 3 ? 'text-orange-400' : 'text-white'}`}>View Benefits</span>
                                                        </div>
                                                        <svg className={`w-4 h-4 transition-colors duration-300 ${activeMobileStep >= 4 ? 'text-orange-500' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                        {/* Step 4 */}
                                                        <div className={`flex items-center gap-2 transition-all duration-300 ${activeMobileStep === 4 ? 'scale-110' : 'opacity-50'}`}>
                                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activeMobileStep === 4 ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/50' : 'bg-orange-500/20 text-orange-400'}`}>4</div>
                                                            <span className={`text-xs font-semibold transition-all duration-300 ${activeMobileStep === 4 ? 'text-orange-400' : 'text-white'}`}>Shop</span>
                                                        </div>
                                                        <svg className={`w-4 h-4 transition-colors duration-300 ${activeMobileStep >= 5 ? 'text-orange-500' : 'text-slate-600'}`} fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" /></svg>
                                                        {/* Step 5 */}
                                                        <div className={`flex items-center gap-2 transition-all duration-300 ${activeMobileStep === 5 ? 'scale-110' : 'opacity-50'}`}>
                                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 ${activeMobileStep === 5 ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/50' : 'bg-orange-500/20 text-orange-400'}`}>5</div>
                                                            <span className={`text-xs font-semibold transition-all duration-300 ${activeMobileStep === 5 ? 'text-orange-400' : 'text-white'}`}>Checkout</span>
                                                        </div>
                                                    </div>
                                                </div>

                                                {/* Video Content */}
                                                <div className="flex-1 flex items-center justify-center py-6 bg-gradient-to-br from-slate-900/50 to-slate-950/50">
                                                    <div className="flex flex-col items-center">
                                                        {/* iPhone Frame with Video */}
                                                        <div className="relative bg-black rounded-[3rem] border-[8px] border-slate-800 shadow-2xl overflow-hidden p-1" style={{ width: '300px', height: '650px' }}>
                                                            {/* Dynamic Island */}
                                                            <div className="absolute top-3 left-1/2 -translate-x-1/2 w-24 h-7 bg-black rounded-full z-10"></div>
                                                            {/* Video with inner rounded container */}
                                                            <div className="w-full h-full rounded-[2.5rem] overflow-hidden">
                                                                <video
                                                                    ref={mobileVideoRef}
                                                                    autoPlay
                                                                    muted
                                                                    loop
                                                                    playsInline
                                                                    controls
                                                                    className="w-full h-full object-cover"
                                                                >
                                                                    <source src="../site/mobile-redemption-flow.mov" type="video/mp4" />
                                                                </video>
                                                            </div>
                                                        </div>
                                                        <p className="text-center text-slate-500 text-xs mt-4">Mobile ordering with wallet benefits</p>
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                </div>
            );
        };

        // --- MAIN APP ---
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(
            <ErrorBoundary>
                <WalletPage />
            </ErrorBoundary>
        );
    </script>
</body>
</html>
